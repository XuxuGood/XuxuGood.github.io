<!DOCTYPE html><html lang="zh-CN"><head hexo-theme="https://github.com/volantis-x/hexo-theme-volantis/tree/4.1.4"><meta charset="utf-8"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>Jenkins + Gitlab + Docker + Spring Boot å®ç°è‡ªåŠ¨éƒ¨ç½² - Xu&#39;s Blog</title><meta name="keywords" content="Jenkins,Gitlab,Docker,Spring Boot,è‡ªåŠ¨éƒ¨ç½²"><meta name="description" content="æœ¬æ–‡ä¸»è¦ä»‹ç»æŒç»­é›†æˆçš„æ­å»ºæ–¹å¼ï¼Œé‡‡ç”¨ Docker çš„æ–¹å¼å»æ­å»º Jenkins ç¯å¢ƒï¼Œç¯‡å¹…æœ‰ç‚¹é•¿ï¼Œè¯·ä»”ç»†é˜…è¯»ã€‚ï¼ˆæ— åºŸè¯ç‰ˆï¼‰"><link rel="alternate" href="/atom.xml" title="Xu's Blog" type="application/atom+xml"><meta name="theme-color" content="#FFFFFF"><meta name="msapplication-TileColor" content="#1BC3FB"><link rel="shortcut icon" type="image/x-icon" href="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/favicon.png"><script src="https://cdn.jsdelivr.net/npm/jquery@3.5/dist/jquery.min.js"></script><link rel="stylesheet" href="/css/first.css"><link rel="stylesheet" href="/css/style.css" media="print" onload='this.media="all",this.onload=null'><noscript><link rel="stylesheet" href="/css/style.css"></noscript><script id="loadcss"></script><link rel="stylesheet" href="/css/message.css" type="text/css"></head><body><header id="l_header" class="l_header auto shadow blur show" style="opacity:0"><div class="container"><div id="wrapper"><div class="nav-sub"><p class="title"></p><ul class="switcher nav-list-h m-phone" id="pjax-header-nav-list"><li><a id="s-comment" class="fas fa-comments fa-fw" target="_self" href="javascript:void(0)"></a></li><li><a id="s-toc" class="s-toc fas fa-list fa-fw" target="_self" href="javascript:void(0)"></a></li></ul></div><div class="nav-main"><a class="title flat-box" target="_self" href="/"><img no-lazy class="logo" src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/navbar-logo.png"></a><div class="menu navigation"><ul class="nav-list-h m-pc"><li><a class="menuitem flat-box faa-parent animated-hover" href="/" id="home"><i class="fas fa-home faa-tada fa-fw"></i> ä¸»é¡µ</a></li><li><a class="menuitem flat-box faa-parent animated-hover"><i class="fas fa-tasks fa-fw"></i> æ‰¾æ–‡ç« </a><ul class="list-v"><li><a class="menuitem flat-box faa-parent animated-hover" href="/archives/" id="archives"><i class="fas fa-archive faa-tada fa-fw"></i> å½’æ¡£</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/categories/" id="categories"><i class="fas fa-folder-open faa-tada fa-fw"></i> åˆ†ç±»</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/tags/" id="tags"><i class="fas fa-tags faa-tada fa-fw"></i> æ ‡ç­¾</a></li></ul></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/links/" id="links"><i class="fas fa-link faa-tada fa-fw"></i> æœ‹å‹</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/about/" id="about"><i class="fas fa-info-circle faa-tada fa-fw"></i> å…³äº</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/comments/" id="comments"><i class="fas fa-comments faa-tada fa-fw"></i> ç•™è¨€</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="https://travellings.now.sh" id="https:travellingsnowsh" rel="external nofollow noopener noreferrer" target="_blank"><i class="fas fa-paper-plane faa-tada fa-fw"></i> å¼€å¾€</a></li><li><a class="menuitem flat-box faa-parent animated-hover"><i class="fas fa-fan fa-spin fa-fw"></i> æ›´å¤š</a><ul class="list-v"><li><a class="menuitem flat-box faa-parent animated-hover" href="/photos/" id="photos"><i class="fas fa-camera-retro faa-tada fa-fw"></i> æˆ‘çš„ç›¸å†Œ</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/resume/" id="resume"><i class="fas fa-drafting-compass faa-tada fa-fw"></i> æˆ‘çš„ç®€å†</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="https://gycuzerwzfyu.leanapp.cn/" rel="external nofollow noopener noreferrer" target="_blank" id="https:gycuzerwzfyuleanappcn"><i class="fas fa-comments faa-tada fa-fw"></i> è¯„è®ºç®¡ç†</a></li><hr><li><a class="menuitem flat-box faa-parent animated-hover" href="https://box.hasaik.com" id="https:boxhasaikcom" rel="external nofollow noopener noreferrer" target="_blank"><i class="fas fa-cog faa-tada fa-fw"></i> å®ç”¨å·¥å…·</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/catchTheCat/" id="catchTheCat"><i class="fas fa-cat faa-tada fa-fw"></i> å›´ä½å°çŒ«</a></li></ul></li></ul></div><div class="m_search"><form name="searchform" class="form u-search-form"><i class="icon fas fa-search fa-fw"></i> <input type="text" class="input u-search-input" placeholder="æœç´¢...(â—•Ü«â—•)"></form></div><div style="display:flex;z-index:1"><canvas id="particleClockCanvas" style="width:100px;margin-top:4px;margin-left:20px"></canvas></div><script src="/js/canvas-clock.js"></script><style>@media screen and (max-width:768px){#particleClockCanvas{display:none}}</style><ul class="switcher nav-list-h m-phone"><li><a class="s-search fas fa-search fa-fw" target="_self" href="javascript:void(0)"></a></li><li><a class="s-menu fas fa-bars fa-fw" target="_self" href="javascript:void(0)"></a><ul class="menu-phone list-v navigation white-box"><li><a class="menuitem flat-box faa-parent animated-hover" href="/" id="home"><i class="fas fa-home faa-tada fa-fw"></i> ä¸»é¡µ</a></li><li><a class="menuitem flat-box faa-parent animated-hover"><i class="fas fa-tasks fa-fw"></i> æ‰¾æ–‡ç« </a><ul class="list-v"><li><a class="menuitem flat-box faa-parent animated-hover" href="/archives/" id="archives"><i class="fas fa-archive faa-tada fa-fw"></i> å½’æ¡£</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/categories/" id="categories"><i class="fas fa-folder-open faa-tada fa-fw"></i> åˆ†ç±»</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/tags/" id="tags"><i class="fas fa-tags faa-tada fa-fw"></i> æ ‡ç­¾</a></li></ul></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/links/" id="links"><i class="fas fa-link faa-tada fa-fw"></i> æœ‹å‹</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/about/" id="about"><i class="fas fa-info-circle faa-tada fa-fw"></i> å…³äº</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/comments/" id="comments"><i class="fas fa-comments faa-tada fa-fw"></i> ç•™è¨€</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="https://travellings.now.sh" id="https:travellingsnowsh" rel="external nofollow noopener noreferrer" target="_blank"><i class="fas fa-paper-plane faa-tada fa-fw"></i> å¼€å¾€</a></li><li><a class="menuitem flat-box faa-parent animated-hover"><i class="fas fa-fan fa-spin fa-fw"></i> æ›´å¤š</a><ul class="list-v"><li><a class="menuitem flat-box faa-parent animated-hover" href="/photos/" id="photos"><i class="fas fa-camera-retro faa-tada fa-fw"></i> æˆ‘çš„ç›¸å†Œ</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/resume/" id="resume"><i class="fas fa-drafting-compass faa-tada fa-fw"></i> æˆ‘çš„ç®€å†</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="https://gycuzerwzfyu.leanapp.cn/" rel="external nofollow noopener noreferrer" target="_blank" id="https:gycuzerwzfyuleanappcn"><i class="fas fa-comments faa-tada fa-fw"></i> è¯„è®ºç®¡ç†</a></li><hr><li><a class="menuitem flat-box faa-parent animated-hover" href="https://box.hasaik.com" id="https:boxhasaikcom" rel="external nofollow noopener noreferrer" target="_blank"><i class="fas fa-cog faa-tada fa-fw"></i> å®ç”¨å·¥å…·</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/catchTheCat/" id="catchTheCat"><i class="fas fa-cat faa-tada fa-fw"></i> å›´ä½å°çŒ«</a></li></ul></li></ul></li></ul></div></div></div></header><div id="l_body"><div id="l_cover"><div id="full" class="cover-wrapper post featured" style="display:none"><div id="cover-backstretch"></div><div class="cover-body"><div class="top"><img no-lazy class="logo" src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/logo.png"></div><div class="bottom"><div class="menu navigation"><div class="list-h"><a href="/" id="home"><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/menu/home.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/menu/home.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"><p>ä¸»é¡µ</p></a><a href="/archives/" id="archives"><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/menu/archive.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/menu/archive.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"><p>å½’æ¡£</p></a><a href="/links/" id="links"><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/menu/link.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/menu/link.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"><p>æœ‹å‹</p></a><a href="/comments/" id="comments"><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/menu/comments.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/menu/comments.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"><p>ç•™è¨€</p></a><a href="/about/" id="about"><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/menu/about.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/menu/about.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"><p>å…³äº</p></a></div></div></div></div><div id="scroll-down" style="display:none"><i class="fas fa-anchor scroll-down-effects"></i></div></div></div><div id="safearea"><div class="body-wrapper" id="pjax-container"><div class="l_main"><article class="article post white-box reveal md shadow floatable article-type-post" id="post" itemscope itemprop="blogPost"><div class="headimg-div"><a class="headimg-a"><img class="headimg lazyload placeholder" src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article-headimg/jenkins.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article-headimg/jenkins.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"></a></div><div class="article-meta" id="top"><a title="Jenkins + Gitlab + Docker + Spring Boot å®ç°è‡ªåŠ¨éƒ¨ç½²" href="/posts/3fe685e0.html"><img class="thumbnail lazyload placeholder" src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article-thumbnail/docker.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article-thumbnail/docker.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"></a><h1 class="title">Jenkins + Gitlab + Docker + Spring Boot å®ç°è‡ªåŠ¨éƒ¨ç½²</h1><div class="new-meta-box"><div class="new-meta-item author"><a class="author" href="/" rel="nofollow"><img no-lazy src="https://hasaik.com/images/avatar.jpg"><p>Mr. X</p></a></div><div class="new-meta-item date"><a class="notlink"><i class="fas fa-calendar-alt fa-fw" aria-hidden="true"></i><p>å‘å¸ƒäºï¼š2020-09-13</p></a></div><div class="new-meta-item category"><a class="notlink"><i class="fas fa-folder-open fa-fw" aria-hidden="true"></i> <a class="category-link" href="/categories/%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/">è‡ªåŠ¨éƒ¨ç½²</a></a></div><div class="new-meta-item comments-count"><a href="javascript:void(0);" onclick="scrollToComments()"><i class="fas fa-comment-dots fa-fw"></i> <span class="valine-comment-count" data-xid="/posts/3fe685e0.html">0</span> <span class="leancloud-comments-count">&nbsp;æ¡è¯„è®º</span></a></div><script>function scrollToComments(){var t=80;volantis.$header[0]&&(t=volantis.$header[0].clientHeight+16),scrollToElement($("#l_body article#comments"),t)}function scrollToElement(t,e){const o=t.href?$(t.getAttribute("href")):$(t);$("html, body").animate({scrollTop:o.offset().top-e},500)}</script><div class="new-meta-item wordcount"><a class="notlink"><i class="fas fa-keyboard fa-fw" aria-hidden="true"></i><p>å­—æ•°ç»Ÿè®¡ï¼š5.5kå­—</p></a></div><div class="new-meta-item readtime"><a class="notlink"><i class="fas fa-hourglass-half fa-fw" aria-hidden="true"></i><p>é˜…è¯»æ—¶é•¿â‰ˆ 23åˆ†é’Ÿ</p></a></div></div></div><p>æœ¬æ–‡ä¸»è¦ä»‹ç»æŒç»­é›†æˆçš„æ­å»ºæ–¹å¼ï¼Œé‡‡ç”¨ Docker çš„æ–¹å¼å»æ­å»º Jenkins ç¯å¢ƒï¼Œç¯‡å¹…æœ‰ç‚¹é•¿ï¼Œè¯·ä»”ç»†é˜…è¯»ã€‚ï¼ˆæ— åºŸè¯ç‰ˆï¼‰</p><a id="more"></a><p>æ¨èé˜…è¯»æœ¬ç¯‡æ–‡ç« çš„æ³¨æ„äº‹é¡¹ç¯‡èŠ‚ä»¥åå†è¿›è¡Œæ­å»ºã€‚</p><h2 id="ğŸ”¥-Dockerå®‰è£…">ğŸ”¥ Dockerå®‰è£…</h2><p>æœ¬æ–‡ä¸­æˆ‘ä»¬ä½¿ç”¨ Centos7.x è¿›è¡Œ Docker å®‰è£…ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨è™šæ‹Ÿä¸­å…ˆå®‰è£… Centos7ï¼Œè¿™ä¸€æ­¥è¯·é˜…è¯»è€…è‡ªè¡Œå®‰è£…ã€‚</p><h3 id="ğŸ‰-Dockerå®‰è£…æ­¥éª¤">ğŸ‰ Dockerå®‰è£…æ­¥éª¤</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 1. yum åŒ…æ›´æ–°åˆ°æœ€æ–°ã€‚</span></span><br><span class="line">sudo yum update</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2. å®‰è£…éœ€è¦çš„è½¯ä»¶åŒ…ï¼Œyum-utilæä¾›yun-config-manageråŠŸèƒ½ï¼Œå¦å¤–ä¸¤ä¸ªæ˜¯devicemapperé©±åŠ¨ä¾èµ–çš„ã€‚</span></span><br><span class="line">sudo yum install -y yum-utils device-mapper-persistent-data lvm2</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 3. è®¾ç½®yumæºä¸ºé˜¿é‡Œäº‘ã€‚</span></span><br><span class="line">sudo yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 4. å®‰è£…dockerã€‚</span></span><br><span class="line">sudo yum install docker-ce</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 5. å®‰è£…å®ŒæˆåæŸ¥çœ‹dockerç‰ˆæœ¬ã€‚</span></span><br><span class="line">docker -v</span><br></pre></td></tr></table></figure><h3 id="ğŸ‰-è®¾ç½®ustcçš„é•œåƒ-æ­¤å¤„ä¹Ÿå¯ç”¨é˜¿é‡Œäº‘å…è´¹é•œåƒåŠ é€Ÿ">ğŸ‰ è®¾ç½®ustcçš„é•œåƒ(æ­¤å¤„ä¹Ÿå¯ç”¨é˜¿é‡Œäº‘å…è´¹é•œåƒåŠ é€Ÿ)</h3><p>ustcæ˜¯è€ç‰Œçš„linuxé•œåƒæœåŠ¡æä¾›è€…äº†ï¼Œè¿˜åœ¨é¥è¿œçš„ubuntu 5.04ç‰ˆæœ¬çš„æ—¶å€™å°±åœ¨ç”¨ã€‚ustcçš„dockeré•œåƒåŠ é€Ÿå™¨é€Ÿåº¦å¾ˆå¿«ã€‚ustc docker mirrorçš„ä¼˜åŠ¿ä¹‹ä¸€å°±æ˜¯ä¸éœ€è¦æ³¨å†Œï¼Œæ˜¯çœŸæ­£çš„å…¬å…±æœåŠ¡ã€‚</p><div class="tag link"><a class="link-card" title="ustcé•œåƒå¸®åŠ©" target="_blank" rel="external nofollow noopener noreferrer" href="https://lug.ustc.edu.cn/wiki/mirrors/help/docker"><div class="left"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"></div><div class="right"><p class="text">ustcé•œåƒå¸®åŠ©</p><p class="url">https://lug.ustc.edu.cn/wiki/mirrors/help/docker</p></div></a></div><p>ç¼–è¾‘è¯¥æ–‡ä»¶ï¼ˆæ²¡æœ‰è¯¥æ–‡ä»¶åˆ™æ–°å»ºï¼‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/docker/daemon.json</span><br></pre></td></tr></table></figure><p>åœ¨è¯¥æ–‡ä»¶ä¸­è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">&quot;registry-mirrors&quot;:</span> [<span class="string">&quot;https://docker.mirrors.ustc.edu.cn&quot;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ–é˜¿é‡Œäº‘çš„é•œåƒåŠ é€Ÿï¼ˆäºŒé€‰ä¸€ï¼‰</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">&quot;registry-mirrors&quot;:</span> [<span class="string">&quot;https://9cpn8tt6.mirror.aliyuncs.com&quot;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ğŸ‰-Dockerçš„å¯åŠ¨ä¸åœæ­¢">ğŸ‰ Dockerçš„å¯åŠ¨ä¸åœæ­¢</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨docker</span></span><br><span class="line">systemctl start docker</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åœæ­¢docker</span></span><br><span class="line">systemctl stop docker</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡å¯docker</span></span><br><span class="line">systemctl restart docker</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹dockerçŠ¶æ€</span></span><br><span class="line">systemctl status docker</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¼€æœºå¯åŠ¨docker</span></span><br><span class="line">systemctl enable docker</span><br></pre></td></tr></table></figure><div class="tag link"><a class="link-card" title="Dockerçš„è™šæ‹Ÿæœºå¸¸ç”¨å‘½ä»¤" target="_blank" rel="external nofollow noopener noreferrer" href="https://www.cnblogs.com/ghostdot/p/12652820.html"><div class="left"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"></div><div class="right"><p class="text">Dockerçš„è™šæ‹Ÿæœºå¸¸ç”¨å‘½ä»¤</p><p class="url">https://www.cnblogs.com/ghostdot/p/12652820.html</p></div></a></div><h2 id="ğŸ”¥-Gitlabå®‰è£…">ğŸ”¥ Gitlabå®‰è£…</h2><p>GitLabæ˜¯ä¸€ä¸ªåˆ©ç”¨ Ruby on Rails å¼€å‘çš„å¼€æºåº”ç”¨ç¨‹åºï¼Œå®ç°ä¸€ä¸ªè‡ªæ‰˜ç®¡çš„Gité¡¹ç›®ä»“åº“ï¼Œå¯é€šè¿‡Webç•Œé¢è¿›è¡Œè®¿é—®å…¬å¼€çš„æˆ–è€…ç§äººé¡¹ç›®å®‰è£…ã€‚ç±»ä¼¼GitHubï¼Œèƒ½å¤Ÿæµè§ˆæºä»£ç ï¼Œç®¡ç†ç¼ºé™·å’Œæ³¨é‡Šï¼Œå¯ä»¥ç®¡ç†å›¢é˜Ÿå¯¹ä»“åº“çš„è®¿é—®ã€‚</p><h3 id="ğŸ‰-æŸ¥è¯¢å¹¶æ‹‰å–é•œåƒ">ğŸ‰ æŸ¥è¯¢å¹¶æ‹‰å–é•œåƒ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥è¯¢gitlabé•œåƒç‰ˆæœ¬</span></span><br><span class="line">docker search gitlab</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‹‰å–é•œåƒ</span></span><br><span class="line">docker pull gitlab/gitlab-ce:latest</span><br></pre></td></tr></table></figure><h3 id="ğŸ‰-åˆ›å»ºGitLabçš„é…ç½®-config-ã€-æ—¥å¿—-log-ã€æ•°æ®-data-ä¸‰ä¸ªæ–‡ä»¶å¤¹ï¼Œæ”¾åˆ°å®¹å™¨ä¹‹å¤–ï¼Œ-ä¾¿äºæ—¥åå‡çº§ï¼Œ-å› æ­¤è¯·å…ˆå‡†å¤‡è¿™ä¸‰ä¸ªç›®å½•">ğŸ‰ åˆ›å»ºGitLabçš„é…ç½® (config) ã€ æ—¥å¿— (log) ã€æ•°æ® (data) ä¸‰ä¸ªæ–‡ä»¶å¤¹ï¼Œæ”¾åˆ°å®¹å™¨ä¹‹å¤–ï¼Œ ä¾¿äºæ—¥åå‡çº§ï¼Œ å› æ­¤è¯·å…ˆå‡†å¤‡è¿™ä¸‰ä¸ªç›®å½•</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /apps/Devops/gitlab/config</span><br><span class="line">mkdir -p /apps/Devops/gitlab/log</span><br><span class="line">mkdir -p /apps/Devops/gitlab/data</span><br></pre></td></tr></table></figure><h3 id="ğŸ‰-è¿è¡ŒGitLabå®¹å™¨">ğŸ‰ è¿è¡ŒGitLabå®¹å™¨</h3><p>è¿è¡ŒæˆåŠŸåï¼Œæ­¤æ—¶ä¼šåœ¨ä¸Šé¢æˆ‘ä»¬åˆ›å»ºçš„ç›®å½•ä¸­ç”Ÿæˆä¸€äº›æ–‡ä»¶ï¼Œåé¢éœ€è¦ä¿®æ”¹æ–‡ä»¶ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">docker run --detach \</span><br><span class="line">--publish 8443:443 --publish 8090:8090 --publish 2222:22 \</span><br><span class="line">--name gitlab \</span><br><span class="line">--restart always \</span><br><span class="line">--volume /apps/Devops/gitlab/config:/etc/gitlab \</span><br><span class="line">--volume /apps/Devops/gitlab/logs:/var/log/gitlab \</span><br><span class="line">--volume /apps/Devops/gitlab/data:/var/opt/gitlab \</span><br><span class="line">gitlab/gitlab-ce:latest</span><br></pre></td></tr></table></figure><p>8090ç«¯å£æ˜¯é¡µé¢è®¿é—®ç«¯å£ã€‚</p><p>ã€æ³¨æ„ã€‘ï¼šgitlabåˆæ¬¡å¯åŠ¨æ¯”è¾ƒæ…¢ï¼Œè€å¿ƒç­‰å¾…åå†è®¿é—®é¡µé¢ï¼</p><h3 id="ğŸ‰-ä¿®æ”¹é…ç½®æ–‡ä»¶">ğŸ‰ ä¿®æ”¹é…ç½®æ–‡ä»¶</h3><p>ä¿®æ”¹ <code>/apps/Devops/gitlab/config/gitlab.rb</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¿›å…¥æ–‡ä»¶åï¼ŒæŠŠexternal_urlæ”¹æˆéƒ¨ç½²æœºå™¨çš„åŸŸåæˆ–è€…IPåœ°å€ï¼Œå¹¶å–æ¶ˆæ³¨é‡Šã€‚</span><br><span class="line"></span><br><span class="line">vim /apps/Devops/gitlab/config/gitlab.rb</span><br><span class="line">external_url &#x27;http://192.168.137.119:8090&#x27;      #ipä¸ºéƒ¨ç½²æœºå™¨çš„IPæˆ–åŸŸå</span><br></pre></td></tr></table></figure><p>å¦‚å›¾ï¼š</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/gitlab%E9%85%8D%E7%BD%AE%E8%AE%BF%E9%97%AE.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/gitlab%E9%85%8D%E7%BD%AE%E8%AE%BF%E9%97%AE.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="gitlabé…ç½®è®¿é—®"></p></div><h3 id="ğŸ‰-æ›´æ”¹å®Œé…ç½®æ–‡ä»¶è¿è¡Œä»¥ä¸‹å‘½ä»¤é‡å¯å®¹å™¨">ğŸ‰ æ›´æ”¹å®Œé…ç½®æ–‡ä»¶è¿è¡Œä»¥ä¸‹å‘½ä»¤é‡å¯å®¹å™¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart gitlab</span><br></pre></td></tr></table></figure><p>é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼Œé»˜è®¤è´¦å·root, éœ€è¦è®¾ç½®ä¸€ä¸ªæ–°å¯†ç ã€‚</p><p>è®¿é—®æŠ¥502è¯´æ˜å®¹å™¨è¿˜æ²¡å¯åŠ¨å®Œæˆï¼Œç­‰å¾…ç‰‡åˆ»å³å¯è®¿é—®åˆ°å¦‚ä¸‹é¡µé¢ã€‚</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/gitlab%E7%99%BB%E5%BD%95.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/gitlab%E7%99%BB%E5%BD%95.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="gitlabç™»å½•"></p></div><p>è‡³æ­¤ï¼ŒGitlabæ­å»ºå®Œæˆã€‚</p><h2 id="ğŸ”¥-Jenkinså®‰è£…">ğŸ”¥ Jenkinså®‰è£…</h2><h3 id="ğŸ‰-æ‹‰å–é•œåƒ">ğŸ‰ æ‹‰å–é•œåƒ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull jenkins/jenkins:lts</span><br></pre></td></tr></table></figure><h3 id="ğŸ‰-åˆ›å»ºç›®å½•">ğŸ‰ åˆ›å»ºç›®å½•</h3><p>ç”±äºé˜²æ­¢jenkinsä¸­é‡è¦æ–‡ä»¶å› ä¸ºå®¹å™¨æŸæ¯æˆ–åˆ é™¤å¯¼è‡´æ–‡ä»¶ä¸¢å¤±ï¼Œå› æ­¤åˆ›å»ºæ–‡ä»¶å¯¹å¤–æŒ‚è½½ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /apps/Devops/jenkins</span><br></pre></td></tr></table></figure><p>å¹¶ä¸”éœ€è¦å¯¹ç›®å½•å¼€æ”¾dockerè¿›ç¨‹æ“ä½œçš„å®Œå…¨è¯»å†™çš„æƒé™</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 777 /apps/Devops/jenkins</span><br></pre></td></tr></table></figure><h3 id="ğŸ‰-å¯åŠ¨å®¹å™¨">ğŸ‰ å¯åŠ¨å®¹å™¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -itd -p 9980:8080 -p 50000:50000  --restart always -v /apps/Devops/jenkins:/var/jenkins_home --name jenkins  jenkins/jenkins:lts</span><br></pre></td></tr></table></figure><p>-p ç«¯å£æ˜ å°„ï¼šJenkinsæ˜¯Javaç¨‹åºï¼Œé»˜è®¤ç«¯å£æ˜¯8080</p><h3 id="ğŸ‰-æ‰“å¼€Jenkinsç®¡ç†é¡µé¢">ğŸ‰ æ‰“å¼€Jenkinsç®¡ç†é¡µé¢</h3><p>è®¿é—®åœ°å€ï¼š<code>http://192.168.137.119:9980/</code></p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/jenkins%E7%99%BB%E5%BD%95%E9%A1%B5.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/jenkins%E7%99%BB%E5%BD%95%E9%A1%B5.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="jenkinsç™»å½•é¡µ"></p></div><p>å‡ºç°å¦‚ä¸Šé¡µé¢ï¼Œä»£è¡¨jenkinså¯åŠ¨æˆåŠŸã€‚</p><h3 id="ğŸ‰-æŸ¥çœ‹æ—¥å¿—è·å–åˆå§‹å¯†ç ">ğŸ‰ æŸ¥çœ‹æ—¥å¿—è·å–åˆå§‹å¯†ç </h3><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs -f jenkins</span><br></pre></td></tr></table></figure><p>å¤åˆ¶ä¸‹å›¾ä¸­çº¢æ¡†å†…çš„åˆå§‹å¯†ç ã€‚</p><p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ä¸é€šè¿‡æ—¥å¿—æŸ¥çœ‹ï¼Œä½ å¯ä»¥è¿›å…¥é»„è‰²æ¡†ä¸­æè¿°çš„æ–‡ä»¶æŸ¥çœ‹åˆå§‹å¯†ç ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼ŒäºŒé€‰ä¸€ã€‚</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/jenkins%E6%97%A5%E5%BF%97.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/jenkins%E6%97%A5%E5%BF%97.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="jenkinsæ—¥å¿—"></p></div><p>é€šè¿‡æè¿°æ–‡ä»¶æŸ¥çœ‹å¯†ç ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 1. è¿›å…¥è¿è¡Œçš„jenkinså®¹å™¨ä¸­ã€‚</span></span><br><span class="line">docker exec -it jenkins /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2. è¿›å…¥å®¹å™¨ä¸­çš„/var/jenkins_home/secretsç›®å½•ï¼Œåˆå§‹å¯†ç å°±åœ¨initialAdminPasswordæ–‡ä»¶ä¸­ã€‚</span></span><br><span class="line">cd /var/jenkins_home/secrets</span><br><span class="line">cat  initialAdminPassword</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 3. é€€å‡ºå®¹å™¨</span></span><br><span class="line">exit</span><br></pre></td></tr></table></figure><p>å°†å¯†ç å¤åˆ¶ã€ç²˜è´´åˆ°å¦‚ä¸‹æ¡†æ¡†ä¸­ï¼Œè¿›å…¥jenkinsï¼Œéœ€è¦ç­‰å¾…æ•°åç§’ï¼ˆå¯èƒ½æ›´ä¹…ï¼‰ï¼</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/jenkins%E5%AF%86%E7%A0%81%E8%BE%93%E5%85%A5.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/jenkins%E5%AF%86%E7%A0%81%E8%BE%93%E5%85%A5.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="jenkinså¯†ç è¾“å…¥"></p></div><p>å¦‚æœå‡ºç°ä¸‹å›¾æƒ…å†µï¼Œç­‰å¾ˆä¹…ï¼Œè¿˜æ²¡æœ‰è¿›å…¥ï¼š</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/jenkins%E7%99%BB%E5%BD%95%E5%8A%A0%E8%BD%BD%E4%B8%AD.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/jenkins%E7%99%BB%E5%BD%95%E5%8A%A0%E8%BD%BD%E4%B8%AD.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="jenkinsç™»å½•åŠ è½½ä¸­"></p></div><p>è§£å†³æ–¹æ¡ˆï¼š<br>ï¼ˆ1ï¼‰è¿›å…¥æˆ‘ä»¬å‰é¢æŒ‚è½½çš„Jenkinsç›®å½• <code>/apps/Devops/jenkins</code>ï¼Œä¿®æ”¹æ–‡ä»¶ <code>hudson.model.UpdateCenter.xml</code>ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /apps/Devops/jenkins</span><br><span class="line">vim hudson.model.UpdateCenter.xml</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰å°†æ–‡ä»¶ <code>hudson.model.UpdateCenter.xml</code> ä¸­ <code>https://updates.jenkins.io/update-center.json</code> æ”¹æˆ <code>http://updates.jenkins.io/update-center.json</code>ï¼ˆæŠŠhttpsæ”¹æˆhttpï¼‰ã€‚</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/https%E6%9B%BF%E6%8D%A2.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/https%E6%9B%BF%E6%8D%A2.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="httpsæ›¿æ¢"></p></div><p>ï¼ˆ3ï¼‰ä¿å­˜ï¼Œé‡å¯Jenkinså®¹å™¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart jenkins</span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰é‡æ–°è¿›å…¥Jenkinsç®¡ç†é¡µé¢ï¼š<code>http://192.168.137.119:9980/</code>ï¼ˆç¨ç­‰ä¸€ä¼šå„¿ï¼Œå°±å¯ä»¥è¿›å…¥ï¼‰</p><h3 id="ğŸ‰-å®‰è£…æ¨èçš„æ’ä»¶">ğŸ‰ å®‰è£…æ¨èçš„æ’ä»¶</h3><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå·¦ä¾§æ˜¾ç¤ºå®‰è£…å»ºè®®çš„æ’ä»¶ã€‚å³ä¾§é€‰æ‹©è‡ªå®šä¹‰å®‰è£…æ’ä»¶ã€‚</p><p>å…ˆæŒ‰ç…§å»ºè®®æ’ä»¶è¿›è¡Œå®‰è£…ï¼Œç‚¹å‡»å·¦ä¾§å³å¯ã€‚</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85%E6%8E%A8%E8%8D%90%E6%8F%92%E4%BB%B6.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85%E6%8E%A8%E8%8D%90%E6%8F%92%E4%BB%B6.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="å®‰è£…æ¨èæ’ä»¶"></p></div><p>å¦‚æœå…¨éƒ¨éƒ½èƒ½æ­£ç¡®å®‰è£…ï¼Œæ›´å¥½ã€‚å‡ºç°å®‰è£…å¤±è´¥çš„æ’ä»¶ï¼Œç­‰å¾…æ‰€æœ‰ç»“æŸï¼Œä¸‹æ–¹ä¼šæœ‰Retryå¯ä»¥è¿›è¡Œé‡è¯•ã€‚</p><p>æœ€åé‡è¯•åï¼Œä¾æ—§æ²¡æœ‰å®‰è£…æˆåŠŸçš„ï¼Œå¯ä»¥å…ˆcontinue,å®Œæˆåˆå§‹åŒ–çš„æ­¥éª¤ã€‚éšå<a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.cnblogs.com/sxdcgaq8080/p/10489326.html">å‚è€ƒè¿™ç¯‡æ–‡ç« è§£å†³</a>ã€‚</p><p>å®‰è£…å®Œæˆåä¼šè‡ªåŠ¨å‡ºç°å¦‚ä¸‹ç•Œé¢ï¼š</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%88%9B%E5%BB%BA%E7%AE%A1%E7%90%86%E7%94%A8%E6%88%B7.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%88%9B%E5%BB%BA%E7%AE%A1%E7%90%86%E7%94%A8%E6%88%B7.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="åˆ›å»ºç®¡ç†ç”¨æˆ·"></p></div><p>å°†ä¿¡æ¯è¾“å…¥å¯¹åº”è¾“å…¥æ¡†å†…ï¼Œç‚¹å‡»ä¿å­˜å¹¶å®Œæˆï¼Œä¹‹åçš„æ­¥éª¤é»˜è®¤ç‚¹å‡»ä¿å­˜å¹¶å®Œæˆå³å¯ã€‚</p><h3 id="ğŸ‰-æˆåŠŸå®‰è£…Jenkins">ğŸ‰ æˆåŠŸå®‰è£…Jenkins</h3><p>å‡ºç°ä¸‹å›¾ä»£è¡¨æˆåŠŸå®‰è£…Jenkinsï¼š</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/jenkins%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F%E5%9B%BE.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/jenkins%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F%E5%9B%BE.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="jenkinså®‰è£…æˆåŠŸå›¾"></p></div><p>å®‰è£…æˆåŠŸä¹‹åé‡å¯ä¸€ä¸‹jenkinså®¹å™¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart jenkins</span><br></pre></td></tr></table></figure><h2 id="ğŸ”¥-Jenkinsé…ç½®">ğŸ”¥ Jenkinsé…ç½®</h2><h3 id="ğŸ‰-è®¾ç½®Jenkinsæ—¶åŒºä¸ºåŒ—äº¬æ—¶é—´">ğŸ‰ è®¾ç½®Jenkinsæ—¶åŒºä¸ºåŒ—äº¬æ—¶é—´</h3><p>ç‚¹å‡» Manage Jenkinsï¼ˆç³»ç»Ÿç®¡ç†ï¼‰ â€”â€”&gt; Script Consoleï¼ˆè„šæœ¬å‘½ä»¤è¡Œï¼‰</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E8%AE%BE%E7%BD%AEjenkins%E6%97%B6%E5%8C%BA.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E8%AE%BE%E7%BD%AEjenkins%E6%97%B6%E5%8C%BA.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="è®¾ç½®jenkinsæ—¶åŒº"></p></div><p>è¾“å…¥è„šæœ¬å¹¶è¿è¡Œï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.setProperty(&#39;org.apache.commons.jelly.tags.fmt.timeZone&#39;, &#39;Asia&#x2F;Shanghai&#39;)</span><br></pre></td></tr></table></figure><p>å¦‚å›¾æ˜¾ç¤ºResultè¡¨ç¤ºæˆåŠŸï¼š</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E8%AE%BE%E7%BD%AEjenkins%E6%97%B6%E5%8C%BA%E6%88%90%E5%8A%9F.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E8%AE%BE%E7%BD%AEjenkins%E6%97%B6%E5%8C%BA%E6%88%90%E5%8A%9F.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="è®¾ç½®jenkinsæ—¶åŒºæˆåŠŸ"></p></div><h3 id="ğŸ‰-å®‰è£…è‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²æ‰€éœ€çš„æ’ä»¶">ğŸ‰ å®‰è£…è‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²æ‰€éœ€çš„æ’ä»¶</h3><p>æ‰€éœ€æ’ä»¶ï¼š<code>Maven Integration</code>ã€<code>Pipeline Maven Integration</code>ã€<code>Gitlab</code>ã€<code>Gitlab hook</code>ã€<code>SSH</code>ã€<code>Publish Over SSH</code>ã€<code>Docker</code></p><p>ç‚¹å‡» Manage Jenkinsï¼ˆç³»ç»Ÿç®¡ç†ï¼‰ â€”â€”&gt; Manage Pluginsï¼ˆæ’ä»¶ç®¡ç†ï¼‰</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%8F%92%E4%BB%B6%E7%AE%A1%E7%90%86.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%8F%92%E4%BB%B6%E7%AE%A1%E7%90%86.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="æ’ä»¶ç®¡ç†"></p></div><h4 id="ğŸ³-å®‰è£…Mavenæ’ä»¶">ğŸ³ å®‰è£…Mavenæ’ä»¶</h4><p>ç‚¹å‡»å¯é€‰æ’ä»¶ â€”â€”&gt; è¿‡æ»¤Maven Integrationæ’ä»¶ â€”â€”&gt; å‹¾é€‰Maven Integrationå’ŒPipeline Maven Integration â€”â€”&gt; ç‚¹å‡»ç›´æ¥å®‰è£…</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85Maven%E6%8F%92%E4%BB%B6.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85Maven%E6%8F%92%E4%BB%B6.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="å®‰è£…Mavenæ’ä»¶"></p></div><p>å¦‚å›¾å¼€å§‹å®‰è£…æ’ä»¶ï¼š</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85Maven%E6%8F%92%E4%BB%B6%E8%BF%9B%E8%A1%8C%E4%B8%AD.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85Maven%E6%8F%92%E4%BB%B6%E8%BF%9B%E8%A1%8C%E4%B8%AD.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="å®‰è£…Mavenæ’ä»¶è¿›è¡Œä¸­"></p></div><p>å®‰è£…å®Œæˆåï¼Œå³å¯åœ¨æ’ä»¶ç®¡ç†ä¸‹çš„å·²å®‰è£…é€‰é¡¹å¡ä¸‹çœ‹åˆ°åˆšåˆšå·²ç»å®‰è£…çš„æ’ä»¶ã€‚</p><h4 id="ğŸ³-å®‰è£…Gitlabæ’ä»¶">ğŸ³ å®‰è£…Gitlabæ’ä»¶</h4><p>ç‚¹å‡»å¯é€‰æ’ä»¶ â€”â€”&gt; è¿‡æ»¤Gitlabæ’ä»¶ â€”â€”&gt; å‹¾é€‰Gitlabå’ŒGitlab Hook â€”â€”&gt; ç‚¹å‡»ç›´æ¥å®‰è£…</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85Gitlab%E6%8F%92%E4%BB%B6.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85Gitlab%E6%8F%92%E4%BB%B6.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="å®‰è£…Gitlabæ’ä»¶"></p></div><h4 id="ğŸ³-å®‰è£…SSHæ’ä»¶å’ŒPublish-Over-SSHæ’ä»¶">ğŸ³ å®‰è£…SSHæ’ä»¶å’ŒPublish Over SSHæ’ä»¶</h4><p>å®‰è£…Publish Over SSHæ’ä»¶çš„åŸå› ï¼šå› ä¸ºæœ¬æ–¹å¼æ˜¯ä½¿ç”¨dockerå¯åŠ¨jenkinsæœåŠ¡ï¼Œæ‰€ä»¥åœ¨jenkinsåç»­æ‰§è¡Œæ„å»ºä»»åŠ¡æ—¶å€™ï¼Œéœ€è¦åœ¨buildæˆåŠŸåï¼Œå°†æœåŠ¡çš„jaråŒ…ï¼ˆä»¥spring bootï¼‰æœåŠ¡ä¸ºä¾‹ï¼Œéœ€è¦å°†jaråŒ…æ‹·è´åˆ°Dockerfileæ‰€åœ¨æœåŠ¡å™¨çš„æŒ‡å®šç›®å½•ï¼Œè¿›è¡Œå¾®æœåŠ¡çš„å¯åŠ¨ï¼›æ‰€ä»¥ï¼Œæ­¤å¤„éœ€è¦é…ç½®SSHæœåŠ¡å™¨çš„è¿æ¥ï¼Œæ„æ€å°±æ˜¯åœ¨jenkinsçš„ä»»åŠ¡ç»“æŸåï¼Œå»æ‰§è¡ŒæŒ‡å®šçš„æœåŠ¡å™¨ä¸Šçš„shellå‘½ä»¤ï¼Œåšspring bootæˆ–cloudæœåŠ¡çš„é•œåƒçš„æ„å»ºï¼Œå®¹å™¨çš„è¿è¡Œï¼Œç­‰ä¸€ç³»åˆ—çš„äº‹æƒ…ã€‚</p><p>ç‚¹å‡»å¯é€‰æ’ä»¶ â€”â€”&gt; è¿‡æ»¤SSHæ’ä»¶ â€”â€”&gt; å‹¾é€‰SSHå’ŒPublish Over SSH â€”â€”&gt; ç‚¹å‡»ç›´æ¥å®‰è£…</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85SSH%E6%8F%92%E4%BB%B6.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85SSH%E6%8F%92%E4%BB%B6.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="å®‰è£…SSHæ’ä»¶"></p></div><h4 id="ğŸ³-å®‰è£…Dockeræ’ä»¶">ğŸ³ å®‰è£…Dockeræ’ä»¶</h4><p>ç‚¹å‡»å¯é€‰æ’ä»¶ â€”â€”&gt; è¿‡æ»¤Dockeræ’ä»¶ â€”â€”&gt; å‹¾é€‰Docker â€”â€”&gt; ç‚¹å‡»ç›´æ¥å®‰è£…</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85Docker%E6%8F%92%E4%BB%B6.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85Docker%E6%8F%92%E4%BB%B6.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="å®‰è£…Dockeræ’ä»¶"></p></div><p>æ’ä»¶å…¨éƒ¨å®‰è£…å®Œæˆåï¼Œå¯ä»¥é‡å¯ä¸€ä¸‹Jenkinsã€‚</p><h3 id="ğŸ‰-æ·»åŠ å‡­æ®">ğŸ‰ æ·»åŠ å‡­æ®</h3><p>ç‚¹å‡» Manage Jenkinsï¼ˆç³»ç»Ÿç®¡ç†ï¼‰ â€”â€”&gt; Manage Credentialsï¼ˆå‡­æ®ç®¡ç†ï¼‰</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%87%AD%E6%8D%AE%E7%AE%A1%E7%90%86.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%87%AD%E6%8D%AE%E7%AE%A1%E7%90%86.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="å‡­æ®ç®¡ç†"></p></div><p>ç‚¹å‡»æ·»åŠ å‡­æ® â€”â€”&gt; è¾“å…¥å®¿ä¸»æœºæœåŠ¡å™¨çš„ç”¨æˆ·åå’Œå¯†ç ç­‰ä¿¡æ¯å¹¶ä¿å­˜</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%87%AD%E6%8D%AE%E4%BF%A1%E6%81%AF.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%87%AD%E6%8D%AE%E4%BF%A1%E6%81%AF.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="å‡­æ®ä¿¡æ¯"></p></div><h3 id="ğŸ‰-é…ç½®SSH-remote-hosts">ğŸ‰ é…ç½®SSH remote hosts</h3><p>è¿™ä¸ªé…ç½®æ˜¯å¹²ä»€ä¹ˆçš„å‘¢ï¼Ÿé…ç½®SSHè¿æ¥Dockerfileæ‰€åœ¨æœåŠ¡å™¨çš„ç›¸å…³ä¿¡æ¯ï¼Œå¹¶æ·»åŠ å‡­è¯ï¼Œæœ€åæµ‹è¯•è¿æ¥å¹¶ä¿å­˜ï¼Œä»¥å¤‡åé¢ä½¿ç”¨ï¼ï¼ï¼</p><p>ç‚¹å‡» Manage Jenkinsï¼ˆç³»ç»Ÿç®¡ç†ï¼‰ â€”â€”&gt; ç³»ç»Ÿé…ç½®</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E9%85%8D%E7%BD%AESSH-remote-hosts.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E9%85%8D%E7%BD%AESSH-remote-hosts.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="é…ç½®SSH-remote-hosts"></p></div><p>æ‰¾åˆ°é…ç½® â€”â€”&gt; ä¸‹æ‹‰é€‰æ‹©SSH remote hosts</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%89%BE%E5%88%B0SSH-remote-hosts.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%89%BE%E5%88%B0SSH-remote-hosts.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="æ‰¾åˆ°SSH-remote-hosts"></p></div><p>å¦‚ä¸‹å›¾ï¼Œè¾“å…¥å¯¹åº”çš„ä¿¡æ¯ï¼Œå¹¶æ ¡éªŒæ˜¯å¦è¿æ¥æˆåŠŸï¼æˆåŠŸåï¼Œç‚¹å‡»åº”ç”¨ â€”â€”&gt; ç‚¹å‡»ä¿å­˜</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/SSH-remote-hosts%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/SSH-remote-hosts%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="SSH-remote-hostsé…ç½®ä¿¡æ¯"></p></div><h3 id="ğŸ‰-é…ç½®Publish-over-SSH">ğŸ‰ é…ç½®Publish over SSH</h3><p>æ‰¾åˆ°é…ç½® â€”â€”&gt; ä¸‹æ‹‰é€‰æ‹©SSH remote hosts</p><p>è¿›è¡Œç›¸å…³é…ç½®å³å¯ã€‚</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/Publish-over-SSH.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/Publish-over-SSH.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="Publish-over-SSH"></p></div><h3 id="ğŸ‰-å…¨å±€å·¥å…·é…ç½®">ğŸ‰ å…¨å±€å·¥å…·é…ç½®</h3><p>ç”±äºæˆ‘ä»¬è¦å®ç°çš„æ˜¯SpringBooté¡¹ç›®çš„è‡ªåŠ¨åŒ–éƒ¨ç½²æ“ä½œï¼Œæ‰€ä»¥éœ€è¦å®‰è£…JDKã€Gitã€Mavenã€Dockerã€‚</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%85%A8%E5%B1%80%E5%B7%A5%E5%85%B7%E9%85%8D%E7%BD%AE.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%85%A8%E5%B1%80%E5%B7%A5%E5%85%B7%E9%85%8D%E7%BD%AE.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="å…¨å±€å·¥å…·é…ç½®"></p></div><h4 id="ğŸ³-å®‰è£…JDK">ğŸ³ å®‰è£…JDK</h4><p>å¯ä»¥å®‰è£…å¤šä¸ªï¼Œæ ¹æ®é¡¹ç›®JDKç‰ˆæœ¬éœ€æ±‚ã€‚</p><p>è¾“å…¥è‡ªå®šä¹‰JDKåç§° â€”â€”&gt; å‹¾é€‰è‡ªåŠ¨å®‰è£… â€”â€”&gt; è¾“å…¥Oracleè´¦æˆ·ã€å¯†ç  â€”â€”&gt; é€‰æ‹©JDKç‰ˆæœ¬ â€”â€”&gt; å‹¾é€‰åŒæ„åè®®</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85JDK.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85JDK.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="å®‰è£…JDK"></p></div><h4 id="ğŸ³-å®‰è£…Git">ğŸ³ å®‰è£…Git</h4><p>è¾“å…¥è‡ªå®šä¹‰Gitåç§° â€”â€”&gt; å‹¾é€‰è‡ªåŠ¨å®‰è£…</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85Git.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85Git.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="å®‰è£…Git"></p></div><h4 id="ğŸ³-å®‰è£…Maven">ğŸ³ å®‰è£…Maven</h4><p>è¾“å…¥è‡ªå®šä¹‰åç§° â€”â€”&gt; å‹¾é€‰è‡ªåŠ¨å®‰è£… â€”â€”&gt; é€‰æ‹©ç‰ˆæœ¬</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85Maven.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85Maven.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="å®‰è£…Maven"></p></div><h4 id="ğŸ³-å®‰è£…Docker">ğŸ³ å®‰è£…Docker</h4><p>è¾“å…¥è‡ªå®šä¹‰åç§° â€”â€”&gt; å‹¾é€‰è‡ªåŠ¨å®‰è£…</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85Docker.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85Docker.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="å®‰è£…Docker"></p></div><p>æœ€åï¼Œç‚¹å‡»åº”ç”¨ â€”â€”&gt; ç‚¹å‡»ä¿å­˜å³å¯ã€‚</p><h2 id="ğŸ”¥-æ–°å»ºJenkinsä»»åŠ¡">ğŸ”¥ æ–°å»ºJenkinsä»»åŠ¡</h2><h3 id="ğŸ‰-ç‚¹å‡»æ–°å»ºä»»åŠ¡ï¼Œè¾“å…¥åç§°">ğŸ‰ ç‚¹å‡»æ–°å»ºä»»åŠ¡ï¼Œè¾“å…¥åç§°</h3><p>æ³¨æ„ï¼šæœ¬åç§°ä¸€èˆ¬å’Œé¡¹ç›®åç§°ä¸€è‡´ï¼Œå› ä¸ºæœ¬åç§°ä¼šåœ¨jenkinså·¥ä½œç©ºé—´ä¸‹ç”Ÿæˆç›®å½•ï¼Œç±»ä¼¼äºIDEAæˆ–Eclipseçš„å·¥ä½œç©ºé—´çš„æ¦‚å¿µã€‚æ‰€ä»¥ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¿è¯æœ¬åç§°=é¡¹ç›®åç§°=dockeré•œåƒåç§°=dockerå®¹å™¨åç§° è¿™æ ·èƒ½å°½å¯èƒ½çš„å‡è½»jenkinsé…ç½®çš„shellå‘½ä»¤çš„å¤æ‚æ€§ï¼ï¼ˆç©ºé—´å‘½åè¦å°å†™ï¼šå› ä¸ºé•œåƒåä¸å…è®¸å­˜åœ¨å¤§å†™å­—æ¯ï¼‰</p><p>é€‰æ‹©æ„å»ºä¸€ä¸ªMavené¡¹ç›®ï¼ˆå› ä¸ºæ˜¯Spring Bootçš„æœåŠ¡ï¼‰</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%9E%84%E5%BB%BAMaven%E9%A1%B9%E7%9B%AE.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%9E%84%E5%BB%BAMaven%E9%A1%B9%E7%9B%AE.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="æ„å»ºMavené¡¹ç›®"></p></div><h3 id="ğŸ‰-æºç ç®¡ç†">ğŸ‰ æºç ç®¡ç†</h3><p>è¾“å…¥æè¿°ä¿¡æ¯ï¼Œæºç ç®¡ç†é€‰æ‹©Gitï¼Œä»gitlabå¤åˆ¶å…‹éš†åœ°å€ç²˜è´´åˆ°Repository URLä¸­ï¼Œæ²¡æœ‰æŠ¥é”™å°±è¡¨ç¤ºOKçš„ï¼Œï¼ˆæ³¨æ„ï¼Œè¿™é‡Œæˆ‘æ˜¯å…‹éš†HTTPæ–¹å¼çš„åœ°å€ï¼Œå¦‚æœä½ æ˜¯å…‹éš†SSHæ–¹å¼çš„åœ°å€ï¼Œä½ éœ€è¦æ·»åŠ Credentialsï¼Œé…ç½®ä¸€ä¸‹å°±å¯ä»¥äº†ï¼‰</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="æºç ç®¡ç†"></p></div><h3 id="ğŸ‰-æ„å»ºè§¦å‘å™¨">ğŸ‰ æ„å»ºè§¦å‘å™¨</h3><p>æ¥ä¸‹æ¥å°†ä¼šç”Ÿæˆä¾›gitlabé…ç½®webhookä½¿ç”¨çš„URLå’ŒTokenï¼Œè¯·è®°å½•ä¸‹æ¥ï¼Œåé¢ä¼šä½¿ç”¨ã€‚</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E8%A7%A6%E5%8F%91%E6%9E%84%E5%BB%BAURL.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E8%A7%A6%E5%8F%91%E6%9E%84%E5%BB%BAURL.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="è§¦å‘æ„å»ºURL"></p></div><p>ç‚¹å‡»é«˜çº§ï¼Œæ‹‰ä¸‹æ¥æ‰¾åˆ°Generateå¹¶ç‚¹å‡»ï¼Œç”Ÿæˆä¸€ä¸²Secret Tokenã€‚</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E8%A7%A6%E5%8F%91%E6%9E%84%E5%BB%BAToken.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E8%A7%A6%E5%8F%91%E6%9E%84%E5%BB%BAToken.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="è§¦å‘æ„å»ºToken"></p></div><h3 id="ğŸ‰-æ·»åŠ webhook">ğŸ‰ æ·»åŠ webhook</h3><p>å‰å¾€gitlabï¼Œè¿›å…¥è¦æ„å»ºçš„é¡¹ç›®ï¼Œåœ¨settingä¸­é€‰æ‹©Webhooksï¼Œè¾“å…¥URLå’ŒSecret Token è¿™ä¸¤åœ¨ä¸Šé¢å›¾ä¸­å·²ç»ç»™ä½ æ ‡æ³¨äº†ï¼Œå»æ‰Enable SSL verificationçš„å‹¾é€‰ã€‚</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/gitlab-webhook%E9%85%8D%E7%BD%AE.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/gitlab-webhook%E9%85%8D%E7%BD%AE.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="gitlab-webhooké…ç½®"></p></div><p>ç‚¹å‡»Add webhookï¼Œå¦‚å›¾è¡¨ç¤ºæˆåŠŸæ·»åŠ äº†webhookï¼š</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/webhook%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/webhook%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="webhooké…ç½®æˆåŠŸ"></p></div><p>å¦‚æœæ·»åŠ ä¸æˆåŠŸè§£å†³æ–¹æ¡ˆè¯·å‚è€ƒï¼š<a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.cnblogs.com/zhongyuanzhao000/p/11379098.html">è§£å†³ Url is blocked: Requests to the local network are not allowed</a></p><h3 id="ğŸ‰-æ„å»ºç¯å¢ƒ">ğŸ‰ æ„å»ºç¯å¢ƒ</h3><p>å‹¾é€‰Add timestamps to the Console Outputï¼Œç­‰ä¸‹å¯ä»¥çœ‹åˆ°æ§åˆ¶å°æ‰“å°çš„ä¿¡æ¯ï¼Œè¿™ä¸ªæ ¹æ®è‡ªå·±çš„éœ€æ±‚å‹¾é€‰ã€‚</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%9E%84%E5%BB%BA%E7%8E%AF%E5%A2%83.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%9E%84%E5%BB%BA%E7%8E%AF%E5%A2%83.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="æ„å»ºç¯å¢ƒ"></p></div><h3 id="ğŸ‰-Pre-Steps-æ„å»ºä¹‹å‰çš„æ­¥éª¤">ğŸ‰ Pre Steps(æ„å»ºä¹‹å‰çš„æ­¥éª¤)</h3><p>é…ç½®å‰ä¸€æ­¥éœ€è¦åšçš„äº‹æƒ…æ˜¯ï¼šæ¸…ç†æœ¬é¡¹ç›®åœ¨jenkinsçš„workspaceä¸­çš„å†å²æ–‡ä»¶å¤¹ã€‚</p><p>ä½ å¯ä»¥ä¸ç”¨çŸ¥é“WORKSPACEå…·ä½“çš„åœ°å€åœ¨å“ªé‡Œï¼Œå› ä¸ºä¸‹æ–¹æœ‰é“¾æ¥å¯ä»¥æŸ¥çœ‹åˆ°å½“å‰jenkinsä¸­æœ‰å“ªäº›å¯ç”¨çš„å˜é‡ä¾›ä½ ä½¿ç”¨ã€‚</p><p>é»˜è®¤WORKSPACEåœ°å€ï¼š<code>/var/jenkins_home/workspace</code>ï¼ˆå¦‚æœä½ jenkinsæ˜¯dockerå¯åŠ¨çš„ï¼Œå¹¶ä¸”æŒ‚è½½äº†ç›®å½•åœ¨å®¿ä¸»æœºï¼Œé‚£ä½ åœ¨å®¿ä¸»æœºä¹Ÿæ˜¯å¯ä»¥çœ‹åˆ°çš„ï¼Œå³ <code>/apps/Devops/jenkins/workspace</code>ï¼‰</p><p>æœ¬å¤„é€‰æ‹©çš„æ˜¯æ‰§è¡Œshellï¼Œåˆ™è¡¨ç¤ºæœ¬å¤„é…ç½®çš„shellå‘½ä»¤ï¼Œæ˜¯é»˜è®¤åœ¨jenkinså®¹å™¨ä¸­æ‰§è¡Œçš„ï¼Œè€Œä¸æ˜¯åœ¨å®¿ä¸»æœºä¸Šã€‚</p><p>ä¸‹æ‹‰é€‰æ‹©æ‰§è¡Œ shellï¼š</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%89%A7%E8%A1%8C%E6%9E%84%E5%BB%BA%E5%89%8D%E7%9A%84%E6%93%8D%E4%BD%9C.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%89%A7%E8%A1%8C%E6%9E%84%E5%BB%BA%E5%89%8D%E7%9A%84%E6%93%8D%E4%BD%9C.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="æ‰§è¡Œæ„å»ºå‰çš„æ“ä½œ"></p></div><p>åœ¨æ‰§è¡Œshellçš„å‘½ä»¤ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œè®¾ç½®å…¨å±€å˜é‡ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SERVER_NAME_1=jenkins-docker-gitlab-springboot</span><br><span class="line">echo &quot;=========================&gt;&gt;&gt;&gt;&gt;&gt;&gt;å·¥ä½œç©ºé—´WORKSPACEçš„åœ°å€ï¼š$WORKSPACE &quot;</span><br><span class="line">cd $WORKSPACE</span><br><span class="line">echo &quot;=========================&gt;&gt;&gt;&gt;&gt;&gt;&gt;è¿›å…¥å·¥ä½œç©ºé—´WORKSPACEï¼Œæ¸…é™¤å·¥ä½œç©ºé—´ä¸­åŸé¡¹ç›®çš„å·¥ä½œç©ºé—´$SERVER_NAME_1 &quot;</span><br><span class="line">rm -rf $SERVER_NAME_1</span><br><span class="line">echo &quot;=========================&gt;&gt;&gt;&gt;&gt;&gt;&gt;æ¸…é™¤å·¥ä½œç©ºé—´ä¸­åŸé¡¹ç›®çš„å·¥ä½œç©ºé—´$SERVER_NAME_1 ......æˆåŠŸsuccess&quot;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šæœ¬å¤„çš„SERVER_NAME_1=jenkins-docker-gitlab-springbootæ˜¯é…ç½®é¡¹ç›®çš„åç§°</p><h3 id="ğŸ‰-Build-æ„å»º">ğŸ‰ Build(æ„å»º)</h3><p>æˆ‘ä»¬æ˜¯SpringBooté¡¹ç›®ï¼Œæ‰€ä»¥ç”¨åˆ°mavenï¼Œè¿™é‡Œè®¾ç½®ä¸€ä¸‹å…¨å±€æ“ä½œï¼Œcleané¡¹ç›®ï¼Œå¹¶æ‰“æˆjaråŒ…ï¼Œæ‰€ä»¥è¿™é‡Œè¾“å…¥ï¼š<code>clean package</code></p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/Build%E6%9E%84%E5%BB%BA.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/Build%E6%9E%84%E5%BB%BA.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="Buildæ„å»º"></p></div><h3 id="ğŸ‰-Post-Steps-æ‰§è¡Œä»»åŠ¡">ğŸ‰ Post Steps(æ‰§è¡Œä»»åŠ¡)</h3><p>åªåœ¨jenkinsæ„å»ºæˆåŠŸåï¼Œæ‰æ‰§è¡Œè¿™ä¸€æ­¥ã€‚</p><p>å› ä¸ºæœ€åçš„æ„å»ºæˆåŠŸçš„mavené¡¹ç›®çš„jaråŒ…æ˜¯ä»¥dockerå¯åŠ¨æœåŠ¡ä¸ºç›®çš„ï¼Œæ‰€ä»¥æœ€åçš„dockeræ“ä½œï¼Œä¸€å®šæ˜¯åœ¨jenkinså®¹å™¨ä»¥å¤–çš„æœåŠ¡å™¨ä¸Šè¿è¡Œçš„ï¼Œå¯èƒ½æ˜¯æœ¬æœºå®¿ä¸»æœºï¼Œä¹Ÿå¯èƒ½æ˜¯è¿œç¨‹çš„æœåŠ¡å™¨ï¼Œè¿™ä¸ªæ ¹æ®è‡ªå·±çš„æƒ…å†µå»é…ç½®ã€‚</p><p>æœ¬å¤„é€‰æ‹©ï¼Œåœ¨è¿œç¨‹çš„SSHæ‰§è¡Œshellè„šæœ¬ã€‚</p><p>é€‰ä¸­åªæœ‰æ„å»ºæˆåŠŸæ‰æ‰§è¡Œè¿™äº›å‘½ä»¤ï¼Œç„¶åé€‰æ‹©Execute shell script on remote host using sshã€‚</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%89%A7%E8%A1%8C%E4%BB%BB%E5%8A%A1.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%89%A7%E8%A1%8C%E4%BB%BB%E5%8A%A1.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="æ‰§è¡Œä»»åŠ¡"></p></div><details green><summary>shellå‘½ä»¤</summary><div class="content"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">=====================================================================================</span></span><br><span class="line"><span class="meta">#</span><span class="bash">=================================å®šä¹‰åˆå§‹åŒ–å˜é‡======================================</span></span><br><span class="line"><span class="meta">#</span><span class="bash">=====================================================================================</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æ“ä½œ/é¡¹ç›®è·¯å¾„(Dockerfileå­˜æ”¾çš„è·¯åŠ²)</span></span><br><span class="line">BASE_PATH=/apps/jenkins-docker-gitlab-springboot</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> jenkinsæ„å»ºå¥½çš„æºjarè·¯å¾„</span>  </span><br><span class="line">SOURCE_PATH=/apps/Devops/jenkins/workspace</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">ã€docker é•œåƒã€‘ã€dockerå®¹å™¨ã€‘ã€DockerfileåŒç›®å½•ä¸‹çš„jaråå­—[ç”¨å®ƒbuildç”Ÿæˆimageçš„jar]ã€‘ã€jenkinsçš„workspaceä¸‹çš„é¡¹ç›®åç§°ã€‘</span></span><br><span class="line"><span class="meta">#</span><span class="bash">è¿™é‡Œéƒ½ä»¥è¿™ä¸ªå‘½å[å¾®æœåŠ¡çš„è¯ï¼Œæ¯ä¸ªæœåŠ¡éƒ½ä»¥ ms-é¡¹ç›®å è¿™ç§æ ¼å¼å‘½å]</span></span><br><span class="line"><span class="meta">#</span><span class="bash">æ³¨æ„ç»Ÿä¸€åç§°ï¼ï¼ï¼ï¼ï¼</span></span><br><span class="line">SERVER_NAME=jenkins-docker-gitlab-springboot</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">å®¹å™¨id  [grep -w å…¨é‡åŒ¹é…å®¹å™¨å] [awk è·å–ä¿¡æ¯è¡Œçš„ç¬¬ä¸€åˆ—ï¼Œå³å®¹å™¨ID]  [æ— è®ºå®¹å™¨å¯åŠ¨ä¸å¦ï¼Œéƒ½è·å–åˆ°]</span></span><br><span class="line">CID=$(docker ps -a | grep -w &quot;$SERVER_NAME&quot; | awk &#x27;&#123;print $1&#125;&#x27;)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">é•œåƒid  [grep -w å…¨é‡åŒ¹é…é•œåƒå] [awk è·å–ä¿¡æ¯è¡Œçš„ç¬¬ä¸‰åˆ—ï¼Œå³é•œåƒID]</span></span><br><span class="line">IID=$(docker images | grep -w &quot;$SERVER_NAME&quot; | awk &#x27;&#123;print $3&#125;&#x27;)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æºjarå®Œæ•´åœ°å€  [jenkinsæ„å»ºæˆåŠŸåï¼Œä¼šåœ¨è‡ªå·±çš„workspace/é¡¹ç›®/target ä¸‹ç”Ÿæˆmavenæ„å»ºæˆåŠŸçš„jaråŒ…ï¼Œè·å–jaråŒ…åçš„å®Œæ•´è·¯å¾„]</span></span><br><span class="line"><span class="meta">#</span><span class="bash">ä¾‹å¦‚ï¼š/apps/Devops/jenkins/workspace/jenkins-docker-gitlab-springboot/target/jenkins-docker-gitlab-springboot-0.0.1-SNAPSHOT.jar</span></span><br><span class="line">SOURCE_JAR_PATH=$(find &quot;$SOURCE_PATH/$SERVER_NAME/target/&quot;  -name &quot;*$SERVER_NAME*.jar&quot; )</span><br><span class="line"></span><br><span class="line">DATE=`date +%Y%m%d%H%M%S`</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">=====================================================================================</span></span><br><span class="line"><span class="meta">#</span><span class="bash">============================å¯¹åŸæœ¬å·²å­˜åœ¨çš„jarè¿›è¡Œå¤‡ä»½================================</span></span><br><span class="line"><span class="meta">#</span><span class="bash">=====================================================================================</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¤‡ä»½</span></span><br><span class="line">function backup()&#123;</span><br><span class="line">    if [ -f &quot;$BASE_PATH/$SERVER_NAME.jar&quot; ]; then</span><br><span class="line">        echo &quot;=========================&gt;&gt;&gt;&gt;&gt;&gt;&gt;$SERVER_NAME.jar å¤‡ä»½...&quot;</span><br><span class="line">            mv $BASE_PATH/$SERVER_NAME.jar $BASE_PATH/backup/$SERVER_NAME-$DATE.jar</span><br><span class="line">        echo &quot;=========================&gt;&gt;&gt;&gt;&gt;&gt;&gt;å¤‡ä»½è€çš„ $SERVER_NAME.jar å®Œæˆ&quot;</span><br><span class="line"></span><br><span class="line">    else</span><br><span class="line">        echo &quot;=========================&gt;&gt;&gt;&gt;&gt;&gt;&gt;è€çš„$BASE_PATH/$SERVER_NAME.jarä¸å­˜åœ¨ï¼Œè·³è¿‡å¤‡ä»½&quot;</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">=====================================================================================</span></span><br><span class="line"><span class="meta">#</span><span class="bash">=========================ç§»åŠ¨æœ€æ–°æºjaråŒ…åˆ°Dockerfileæ‰€åœ¨ç›®å½•=========================</span></span><br><span class="line"><span class="meta">#</span><span class="bash">=====================================================================================</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥æ‰¾æºjaræ–‡ä»¶åï¼Œè¿›è¡Œé‡å‘½åï¼Œæœ€åå°†æºæ–‡ä»¶ç§»åŠ¨åˆ°Dockerfileæ–‡ä»¶æ‰€åœ¨ç›®å½•</span></span><br><span class="line">function transfer()&#123;</span><br><span class="line">       </span><br><span class="line">         </span><br><span class="line">    echo &quot;=========================&gt;&gt;&gt;&gt;&gt;&gt;&gt;æºæ–‡ä»¶å®Œæ•´åœ°å€ä¸º $SOURCE_JAR_PATH&quot;</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">    echo &quot;=========================&gt;&gt;&gt;&gt;&gt;&gt;&gt;é‡å‘½åæºæ–‡ä»¶&quot;</span><br><span class="line">        mv $SOURCE_JAR_PATH  $SOURCE_PATH/$SERVER_NAME/target/$SERVER_NAME.jar</span><br><span class="line"></span><br><span class="line">    echo &quot;=========================&gt;&gt;&gt;&gt;&gt;&gt;&gt;æœ€æ–°æ„å»ºä»£ç  $SOURCE_PATH/$SERVER_NAME/target/$SERVER_NAME.jar è¿ç§»è‡³ $BASE_PATH&quot;</span><br><span class="line">        cp $SOURCE_PATH/$SERVER_NAME/target/$SERVER_NAME.jar $BASE_PATH </span><br><span class="line"></span><br><span class="line">    echo &quot;=========================&gt;&gt;&gt;&gt;&gt;&gt;&gt;è¿ç§»å®ŒæˆSuccess&quot;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">=====================================================================================</span></span><br><span class="line"><span class="meta">#</span><span class="bash">==================================æ„å»ºæœ€æ–°é•œåƒ=======================================</span></span><br><span class="line"><span class="meta">#</span><span class="bash">=====================================================================================</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="meta">#</span><span class="bash"> æ„å»ºdockeré•œåƒ</span></span><br><span class="line">function build()&#123;</span><br><span class="line">    </span><br><span class="line">    #æ— è®ºé•œåƒå­˜åœ¨ä¸å¦ï¼Œéƒ½åœæ­¢åŸå®¹å™¨æœåŠ¡ï¼Œå¹¶ç§»é™¤åŸå®¹å™¨æœåŠ¡</span><br><span class="line">    echo &quot;=========================&gt;&gt;&gt;&gt;&gt;&gt;&gt;åœæ­¢$SERVER_NAMEå®¹å™¨ï¼ŒCID=$CID&quot;</span><br><span class="line">    docker stop $CID</span><br><span class="line"></span><br><span class="line">    echo &quot;=========================&gt;&gt;&gt;&gt;&gt;&gt;&gt;ç§»é™¤$SERVER_NAMEå®¹å™¨ï¼ŒCID=$CID&quot;</span><br><span class="line">    docker rm $CID</span><br><span class="line"></span><br><span class="line">    #æ— è®ºå¦‚ä½•ï¼Œéƒ½å»æ„å»ºæ–°çš„é•œåƒ</span><br><span class="line">    if [ -n &quot;$IID&quot; ]; then</span><br><span class="line">        echo &quot;=========================&gt;&gt;&gt;&gt;&gt;&gt;&gt;å­˜åœ¨$SERVER_NAMEé•œåƒï¼ŒIID=$IID&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        echo &quot;=========================&gt;&gt;&gt;&gt;&gt;&gt;&gt;ç§»é™¤è€çš„$SERVER_NAMEé•œåƒï¼ŒIID=$IID&quot;</span><br><span class="line">        docker rmi $IID</span><br><span class="line"></span><br><span class="line">        echo &quot;=========================&gt;&gt;&gt;&gt;&gt;&gt;&gt;æ„å»ºæ–°çš„$SERVER_NAMEé•œåƒï¼Œå¼€å§‹----&gt;&quot;</span><br><span class="line">        cd $BASE_PATH</span><br><span class="line">        docker build -t $SERVER_NAME .</span><br><span class="line">        echo &quot;=========================&gt;&gt;&gt;&gt;&gt;&gt;&gt;æ„å»ºæ–°çš„$SERVER_NAMEé•œåƒï¼Œå®Œæˆ----&gt;&quot;</span><br><span class="line"></span><br><span class="line">    else</span><br><span class="line">        echo &quot;=========================&gt;&gt;&gt;&gt;&gt;&gt;&gt;ä¸å­˜åœ¨$SERVER_NAMEé•œåƒï¼Œæ„å»ºæ–°çš„é•œåƒï¼Œå¼€å§‹---&gt;&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        cd $BASE_PATH</span><br><span class="line">        docker build -t $SERVER_NAME .</span><br><span class="line">        echo &quot;=========================&gt;&gt;&gt;&gt;&gt;&gt;&gt;æ„å»ºæ–°çš„$SERVER_NAMEé•œåƒï¼Œç»“æŸ---&gt;&quot;</span><br><span class="line">    fi</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">=====================================================================================</span></span><br><span class="line"><span class="meta">#</span><span class="bash">==============================è¿è¡Œdockerå®¹å™¨ï¼Œå¯åŠ¨æœåŠ¡===============================</span></span><br><span class="line"><span class="meta">#</span><span class="bash">=====================================================================================</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿è¡Œdockerå®¹å™¨</span></span><br><span class="line">function run()&#123;</span><br><span class="line">    backup</span><br><span class="line">    transfer</span><br><span class="line">    build</span><br><span class="line"></span><br><span class="line">    docker run --name $SERVER_NAME -itd --net=host -v /etc/localtime:/etc/localtime:ro  -v /etc/timezone:/etc/timezone:ro  $SERVER_NAME </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">#</span><span class="bash">å…¥å£</span></span><br><span class="line">run</span><br></pre></td></tr></table></figure></div></details><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/shell%E8%84%9A%E6%9C%AC%E5%91%BD%E4%BB%A4.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/shell%E8%84%9A%E6%9C%AC%E5%91%BD%E4%BB%A4.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="shellè„šæœ¬å‘½ä»¤"></p></div><p>OKï¼Œåˆ°è¿™é‡ŒåŸºæœ¬çš„ä»»åŠ¡å·²ç»æ–°å»ºæˆåŠŸï¼Œè‡³äºåç»­çš„ä¸¤ä¸ªæ­¥éª¤ï¼Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚è‡ªè¡Œé…ç½®ï¼Œæ²¡æœ‰éš¾åº¦çš„ã€‚</p><p>ç‚¹å‡»åº”ç”¨ï¼Œä¿å­˜ã€‚</p><h3 id="ğŸ‰-æµ‹è¯•">ğŸ‰ æµ‹è¯•</h3><p>æµ‹è¯•pushäº‹ä»¶è§¦å‘è‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²ï¼Œç‚¹å‡»testä¸‹æ‹‰é€‰æ‹©push eventsï¼Œå‡ºç°HTTP 200è¡¨ç¤ºOKäº†ã€‚</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%B5%8B%E8%AF%95webhook.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%B5%8B%E8%AF%95webhook.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="æµ‹è¯•webhook"></p></div><p>å›åˆ°Jenkinså¯ä»¥çœ‹åˆ°ä»»åŠ¡åˆ—è¡¨ï¼ŒæŸ¥çœ‹æ„å»ºä¿¡æ¯ç­‰ã€‚</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%9E%84%E5%BB%BA%E4%BF%A1%E6%81%AF.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%9E%84%E5%BB%BA%E4%BF%A1%E6%81%AF.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="æ„å»ºä¿¡æ¯"></p></div><p>å¾…Jenkinsæ„å»ºæˆåŠŸä¹‹åï¼Œåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œå‘½ä»¤ï¼š<code>docker ps</code>ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬å¯åŠ¨èµ·æ¥çš„ SpringBoot å®¹å™¨ï¼š</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/docker%E5%90%AF%E5%8A%A8%E7%9A%84%E5%AE%B9%E5%99%A8.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/docker%E5%90%AF%E5%8A%A8%E7%9A%84%E5%AE%B9%E5%99%A8.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="dockerå¯åŠ¨çš„å®¹å™¨"></p></div><p>åœ¨æµè§ˆå™¨è¾“å…¥ï¼š<code>http://æœåŠ¡å™¨ip:ç«¯å£/</code> å³å¯è®¿é—®åˆšè‡ªåŠ¨éƒ¨ç½²çš„é¡¹ç›®ï¼š</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E8%BF%90%E8%A1%8C%E6%88%90%E5%8A%9F.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E8%BF%90%E8%A1%8C%E6%88%90%E5%8A%9F.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="è¿è¡ŒæˆåŠŸ"></p></div><h2 id="ğŸ”¥-é…ç½®é‚®ä»¶é€šçŸ¥">ğŸ”¥ é…ç½®é‚®ä»¶é€šçŸ¥</h2><p>å®ŒæˆåŸºäºjenkinsçš„æŒç»­é›†æˆéƒ¨ç½²åï¼Œä»»åŠ¡æ„å»ºæ‰§è¡Œå®Œæˆï¼Œæµ‹è¯•ç»“æœéœ€è¦é€šçŸ¥åˆ°ç›¸å…³äººå‘˜ï¼ˆè¿™ä¸ªé‚®ä»¶é€šçŸ¥æ ¹æ®è‡ªå·±éœ€æ±‚é€‰æ‹©æ·»åŠ ï¼Œéå¿…é¡»ï¼‰ã€‚</p><h3 id="ğŸ‰-å®‰è£…é‚®ä»¶æ’ä»¶">ğŸ‰ å®‰è£…é‚®ä»¶æ’ä»¶</h3><p>ç”±äºJenkinsè‡ªå¸¦çš„é‚®ä»¶åŠŸèƒ½æ¯”è¾ƒé¸¡è‚‹ï¼Œå› æ­¤è¿™é‡Œæ¨èå®‰è£…ä¸“é—¨çš„é‚®ä»¶æ’ä»¶ï¼Œä¸è¿‡ä¸‹é¢ä¹Ÿä¼šé¡ºå¸¦ä»‹ç»å¦‚ä½•é…ç½®Jenkinsè‡ªå¸¦çš„é‚®ä»¶åŠŸèƒ½ä½œç”¨ã€‚</p><p>ç‚¹å‡»ç³»ç»Ÿç®¡ç† â€”â€”&gt; æ’ä»¶ç®¡ç† â€”â€”&gt; å¯é€‰æ’ä»¶ï¼š</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85%E9%82%AE%E4%BB%B6%E6%8F%92%E4%BB%B6.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%AE%89%E8%A3%85%E9%82%AE%E4%BB%B6%E6%8F%92%E4%BB%B6.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="å®‰è£…é‚®ä»¶æ’ä»¶"></p></div><p>é€‰æ‹©Email Extension Pluginæ’ä»¶è¿›è¡Œå®‰è£…ï¼Œå®‰è£…å¥½ä¹‹åé‡å¯Jenkinsã€‚</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E9%82%AE%E4%BB%B6%E6%8F%92%E4%BB%B6.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E9%82%AE%E4%BB%B6%E6%8F%92%E4%BB%B6.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="é‚®ä»¶æ’ä»¶"></p></div><h3 id="ğŸ‰-ç³»ç»Ÿè®¾ç½®">ğŸ‰ ç³»ç»Ÿè®¾ç½®</h3><p>ç‚¹å‡»ç³»ç»Ÿç®¡ç† â€”â€”&gt; ç³»ç»Ÿé…ç½®ï¼Œè¿›è¡Œé‚®ä»¶é…ç½®ï¼š</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="ç³»ç»Ÿé…ç½®"></p></div><h4 id="ğŸ³-è®¾ç½®Jenkinsåœ°å€å’Œç®¡ç†å‘˜é‚®ç®±åœ°å€">ğŸ³ è®¾ç½®Jenkinsåœ°å€å’Œç®¡ç†å‘˜é‚®ç®±åœ°å€</h4><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/jenkins-location%E9%85%8D%E7%BD%AE.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/jenkins-location%E9%85%8D%E7%BD%AE.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="jenkins-locationé…ç½®"></p></div><h4 id="ğŸ³-è®¾ç½®å‘ä»¶äººç­‰ä¿¡æ¯">ğŸ³ è®¾ç½®å‘ä»¶äººç­‰ä¿¡æ¯</h4><p>è¿™é‡Œçš„å‘ä»¶äººé‚®ç®±åœ°å€åˆ‡è®°è¦å’Œç³»ç»Ÿç®¡ç†å‘˜é‚®ä»¶åœ°å€ä¿æŒä¸€è‡´ï¼ˆå½“ç„¶ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸“é—¨çš„å‘ä»¶äººé‚®ç®±ï¼Œä¸è¿‡ä¸å½±å“ä½¿ç”¨ï¼Œæ ¹æ®å…·ä½“æƒ…å†µè®¾ç½®å³å¯ï¼‰</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%8F%91%E4%BB%B6%E4%BA%BA%E4%BF%A1%E6%81%AF.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E5%8F%91%E4%BB%B6%E4%BA%BA%E4%BF%A1%E6%81%AF.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="å‘ä»¶äººä¿¡æ¯"></p></div><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/SMTP%E9%82%AE%E4%BB%B6%E5%8D%8F%E8%AE%AE.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/SMTP%E9%82%AE%E4%BB%B6%E5%8D%8F%E8%AE%AE.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="SMTPé‚®ä»¶åè®®"></p></div><h4 id="ğŸ³-é…ç½®é‚®ä»¶å†…å®¹æ¨¡ç‰ˆ">ğŸ³ é…ç½®é‚®ä»¶å†…å®¹æ¨¡ç‰ˆ</h4><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E9%82%AE%E4%BB%B6%E6%A8%A1%E6%9D%BF.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E9%82%AE%E4%BB%B6%E6%A8%A1%E6%9D%BF.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="é‚®ä»¶æ¨¡æ¿"></p></div><details green><summary>é‚®ç®±å†…å®¹æ¨¡ç‰ˆï¼ˆDefault Contentï¼‰</summary><div class="content"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span>    </span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span>    </span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span>    </span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span>    </span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>$&#123;ENV, var=&quot;JOB_NAME&quot;&#125;-ç¬¬$&#123;BUILD_NUMBER&#125;æ¬¡æ„å»ºæ—¥å¿—<span class="tag">&lt;/<span class="name">title</span>&gt;</span>    </span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span>    </span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">leftmargin</span>=<span class="string">&quot;8&quot;</span> <span class="attr">marginwidth</span>=<span class="string">&quot;0&quot;</span> <span class="attr">topmargin</span>=<span class="string">&quot;8&quot;</span> <span class="attr">marginheight</span>=<span class="string">&quot;4&quot;</span>    </span></span><br><span class="line"><span class="tag">    <span class="attr">offset</span>=<span class="string">&quot;0&quot;</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">&quot;95%&quot;</span> <span class="attr">cellpadding</span>=<span class="string">&quot;0&quot;</span> <span class="attr">cellspacing</span>=<span class="string">&quot;0&quot;</span>  <span class="attr">style</span>=<span class="string">&quot;font-size: 11pt; font-family: Tahoma, Arial, Helvetica, sans-serif&quot;</span>&gt;</span>    </span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span>    </span><br><span class="line">            æœ¬é‚®ä»¶ç”±ç³»ç»Ÿè‡ªåŠ¨å‘å‡ºï¼Œæ— éœ€å›å¤ï¼<span class="tag">&lt;<span class="name">br</span>/&gt;</span>            </span><br><span class="line">            å„ä½åŒäº‹ï¼Œå¤§å®¶å¥½ï¼Œä»¥ä¸‹ä¸º$&#123;PROJECT_NAME&#125;é¡¹ç›®æ„å»ºä¿¡æ¯<span class="tag">&lt;/<span class="name">br</span>&gt;</span> </span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;#CC0000&quot;</span>&gt;</span>æ„å»ºç»“æœ - $&#123;BUILD_STATUS&#125;<span class="tag">&lt;/<span class="name">font</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span>   </span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span>    </span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span>    </span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span>    </span><br><span class="line">            <span class="tag">&lt;<span class="name">b</span>&gt;</span><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;#0B610B&quot;</span>&gt;</span>æ„å»ºä¿¡æ¯<span class="tag">&lt;/<span class="name">font</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span>    </span><br><span class="line">            <span class="tag">&lt;<span class="name">hr</span> <span class="attr">size</span>=<span class="string">&quot;2&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span>    </span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span>    </span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span>    </span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>    </span><br><span class="line">                <span class="tag">&lt;<span class="name">ul</span>&gt;</span>    </span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>é¡¹ç›®åç§° ï¼š $&#123;PROJECT_NAME&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span>    </span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ„å»ºç¼–å· ï¼š ç¬¬$&#123;BUILD_NUMBER&#125;æ¬¡æ„å»º<span class="tag">&lt;/<span class="name">li</span>&gt;</span>    </span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>è§¦å‘åŸå› ï¼š $&#123;CAUSE&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span>    </span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ„å»ºçŠ¶æ€ï¼š $&#123;BUILD_STATUS&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span>    </span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ„å»ºæ—¥å¿—ï¼š <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;BUILD_URL&#125;console&quot;</span>&gt;</span>$&#123;BUILD_URL&#125;console<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span>    </span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ„å»º  Url ï¼š <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;BUILD_URL&#125;&quot;</span>&gt;</span>$&#123;BUILD_URL&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span>    </span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>å·¥ä½œç›®å½• ï¼š <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;PROJECT_URL&#125;ws&quot;</span>&gt;</span>$&#123;PROJECT_URL&#125;ws<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span>    </span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>é¡¹ç›®  Url ï¼š <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;PROJECT_URL&#125;&quot;</span>&gt;</span>$&#123;PROJECT_URL&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span>    </span><br><span class="line">                <span class="tag">&lt;/<span class="name">ul</span>&gt;</span>    </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;#0B610B&quot;</span>&gt;</span>å¤±è´¥ç”¨ä¾‹<span class="tag">&lt;/<span class="name">font</span>&gt;</span><span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span> <span class="attr">size</span>=<span class="string">&quot;2&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> /&gt;</span></span><br><span class="line">$FAILED_TESTS<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;#0B610B&quot;</span>&gt;</span>æœ€è¿‘æäº¤(#$SVN_REVISION)<span class="tag">&lt;/<span class="name">font</span>&gt;</span><span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span> <span class="attr">size</span>=<span class="string">&quot;2&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">$&#123;CHANGES_SINCE_LAST_SUCCESS, reverse=true, format=&quot;%c&quot;, changesFormat=&quot;<span class="tag">&lt;<span class="name">li</span>&gt;</span>%d [%a] %m<span class="tag">&lt;/<span class="name">li</span>&gt;</span>&quot;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">è¯¦ç»†æäº¤: <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;PROJECT_URL&#125;changes&quot;</span>&gt;</span>$&#123;PROJECT_URL&#125;changes<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span>    </span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span>    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span>    </span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></div></details><h4 id="ğŸ³-è®¾ç½®é‚®ä»¶è§¦å‘æœºåˆ¶">ğŸ³ è®¾ç½®é‚®ä»¶è§¦å‘æœºåˆ¶</h4><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E9%82%AE%E4%BB%B6%E8%A7%A6%E5%8F%91%E6%9C%BA%E5%88%B6.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E9%82%AE%E4%BB%B6%E8%A7%A6%E5%8F%91%E6%9C%BA%E5%88%B6.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="é‚®ä»¶è§¦å‘æœºåˆ¶"></p></div><p>ä¸Šé¢çš„å‡ æ­¥å®Œæˆåï¼Œç‚¹å‡»åº”ç”¨ï¼Œä¿å­˜å³å¯ã€‚</p><h4 id="ğŸ³-é…ç½®Jenkinsè‡ªå¸¦çš„é‚®ä»¶åŠŸèƒ½">ğŸ³ é…ç½®Jenkinsè‡ªå¸¦çš„é‚®ä»¶åŠŸèƒ½</h4><p>é…ç½®å†…å®¹å¦‚ä¸‹ï¼Œå’ŒEmail Extension Pluginæ’ä»¶åŒæ ·çš„é…ç½®ï¼Œå¯ä»¥é€šè¿‡å‹¾é€‰<emp>é€šè¿‡å‘é€æµ‹è¯•é‚®ä»¶æµ‹è¯•é…ç½®</emp>æŒ‰é’®æ¥æµ‹è¯•é…ç½®æ˜¯å¦æˆåŠŸå‘é€é‚®ä»¶ï¼Œå¦‚ä¸‹å›¾ï¼š</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E8%87%AA%E5%B8%A6%E7%9A%84%E9%82%AE%E4%BB%B6%E5%8A%9F%E8%83%BD.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E8%87%AA%E5%B8%A6%E7%9A%84%E9%82%AE%E4%BB%B6%E5%8A%9F%E8%83%BD.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="è‡ªå¸¦çš„é‚®ä»¶åŠŸèƒ½"></p></div><p>å®Œæˆä¸Šé¢çš„ç³»ç»Ÿè®¾ç½®åï¼Œç‚¹å‡»åº”ç”¨ä¿å­˜å³å¯ã€‚</p><h3 id="ğŸ‰-é¡¹ç›®é…ç½®">ğŸ‰ é¡¹ç›®é…ç½®</h3><p>åœ¨å®Œæˆç³»ç»Ÿè®¾ç½®åï¼Œè¿˜éœ€è¦ç»™éœ€è¦æ„å»ºçš„é¡¹ç›®è¿›è¡Œé‚®ä»¶é…ç½®ã€‚</p><h4 id="ğŸ³-è¿›å…¥é¡¹ç›®é…ç½®ç•Œé¢">ğŸ³ è¿›å…¥é¡¹ç›®é…ç½®ç•Œé¢</h4><p>è¿›å…¥æ–°å»ºçš„é¡¹ç›®ç•Œé¢ï¼Œç‚¹å‡»é…ç½®æŒ‰é’®ï¼Œè¿›å…¥ç³»ç»Ÿé…ç½®é¡µé¢ã€‚</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E8%BF%9B%E5%85%A5%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E8%BF%9B%E5%85%A5%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="è¿›å…¥é¡¹ç›®é…ç½®"></p></div><h4 id="ğŸ³-é…ç½®æ„å»ºè®¾ç½®æ¨¡å—">ğŸ³ é…ç½®æ„å»ºè®¾ç½®æ¨¡å—</h4><p>ç‚¹å‡»ä¸Šæ–¹çš„<emp>æ„å»ºè®¾ç½®</emp>é€‰é¡¹ï¼Œé…ç½®å†…å®¹å¦‚ä¸‹ï¼š</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%9E%84%E5%BB%BA%E8%AE%BE%E7%BD%AE.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%9E%84%E5%BB%BA%E8%AE%BE%E7%BD%AE.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="æ„å»ºè®¾ç½®"></p></div><h4 id="ğŸ³-é…ç½®æ„å»ºåæ“ä½œæ¨¡å—">ğŸ³ é…ç½®æ„å»ºåæ“ä½œæ¨¡å—</h4><p>ç‚¹å‡»ä¸Šæ–¹çš„<emp>æ„å»ºåæ“ä½œ</emp>é€‰é¡¹ï¼Œæ·»åŠ æ„å»ºåæ“ä½œæ­¥éª¤ <code>Editable Email Notification</code>ï¼Œé…ç½®å†…å®¹å¦‚ä¸‹ï¼š</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%9E%84%E5%BB%BA%E5%90%8E%E6%93%8D%E4%BD%9C1.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%9E%84%E5%BB%BA%E5%90%8E%E6%93%8D%E4%BD%9C1.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="æ„å»ºåæ“ä½œ1"></p></div><p>æ¥ä¸Šå›¾ï¼š</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%9E%84%E5%BB%BA%E5%90%8E%E6%93%8D%E4%BD%9C2.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%9E%84%E5%BB%BA%E5%90%8E%E6%93%8D%E4%BD%9C2.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="æ„å»ºåæ“ä½œ2"></p></div><p>é…ç½®å†…å®¹é»˜è®¤å³å¯ï¼Œé‚®ä»¶å†…å®¹ç±»å‹å¯ä»¥æ ¹æ®è‡ªå·±çš„é…ç½®é€‰æ‹©ï¼Œæ”¶ä»¶äººåˆ—è¡¨å¯ä»¥ä»å‰é¢çš„ç³»ç»Ÿè®¾ç½®ä¸­é»˜è®¤æ”¶ä»¶äººé€‰é¡¹é…ç½®ã€‚</p><h3 id="ğŸ‰-æ„å»ºè§¦å‘é‚®ä»¶æµ‹è¯•">ğŸ‰ æ„å»ºè§¦å‘é‚®ä»¶æµ‹è¯•</h3><p>å¦‚ä¸‹å›¾ï¼Œä¸ºæˆ‘æ”¶åˆ°çš„æµ‹è¯•é‚®ä»¶ï¼Œé‚®ä»¶å†…å®¹å¯ä»¥é€šè¿‡ç³»ç»Ÿè®¾ç½®é‡Œé¢è¿›è¡Œä¸ªæ€§åŒ–çš„é…ç½®ï¼Œå¯å‚è€ƒæˆ‘ä¸Šé¢çš„æ¨¡æ¿ï¼Œæˆ–è€…è‡ªå®šä¹‰å³å¯ã€‚</p><div class="gallery"><p><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%9E%84%E5%BB%BA%E8%A7%A6%E5%8F%91%E9%82%AE%E4%BB%B6%E6%88%90%E5%8A%9F.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article/abbrlink-3fe685e0/%E6%9E%84%E5%BB%BA%E8%A7%A6%E5%8F%91%E9%82%AE%E4%BB%B6%E6%88%90%E5%8A%9F.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="æ„å»ºè§¦å‘é‚®ä»¶æˆåŠŸ"></p></div><h2 id="ğŸ”¥-æ³¨æ„">ğŸ”¥ æ³¨æ„</h2><p>ï¼ˆ1ï¼‰shellè„šæœ¬ä¸­éœ€è¦çš„æ–‡ä»¶å¤¹æ²¡æœ‰åˆ™è‡ªå»ºï¼ˆä¸ç”¨å®Œå…¨è·Ÿæˆ‘ä¸€æ ·ï¼‰ã€‚</p><p>ï¼ˆ2ï¼‰Dockerfileéœ€å’ŒjaråŒ…æ”¾åˆ°åŒä¸€ç›®å½•ä¸‹ï¼Œé™„ä¸Šæˆ‘ä½¿ç”¨çš„Dockerfileæ–‡ä»¶å†…å®¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FROM jdk1.8</span><br><span class="line">MAINTAINER xuxu</span><br><span class="line">COPY jenkins-docker-gitlab-springboot.jar jenkins-docker-gitlab-springboot.jar</span><br><span class="line">CMD [&quot;java&quot;,&quot;-jar&quot;,&quot;jenkins-docker-gitlab-springboot.jar&quot;]</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰å¦‚æœæ²¡æœ‰åŸºç¡€ JDK é•œåƒå¯å‚ç…§ <a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.cnblogs.com/ztone/p/10558803.html">è¿™ç¯‡æ–‡ç« </a> å®Œæˆã€‚</p><p>ï¼ˆ4ï¼‰æ„å»ºè¿‡ç¨‹ä¸­å¯èƒ½æç¤ºæ²¡æœ‰æƒé™æ“ä½œæ–‡ä»¶å¤¹ï¼ŒæŒ‰ç…§ä¸‹é¢æ‰§è¡Œè§£å†³å³å¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># 1. æŸ¥çœ‹æ‰€æœ‰å®¹å™¨</span><br><span class="line">docker ps -a</span><br><span class="line"></span><br><span class="line"># 2. è¿›å…¥jenkinså®¹å™¨å†…éƒ¨</span><br><span class="line">docker exec -it jenkins &#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line"># 3. æŸ¥çœ‹å½“å‰æ“ä½œç”¨æˆ·æ˜¯å¦æ˜¯jenkins</span><br><span class="line">whoami</span><br><span class="line"></span><br><span class="line"># 4. æ¨å‡º</span><br><span class="line">exit</span><br><span class="line"></span><br><span class="line"># 5. ä»¥rootç”¨æˆ·è¿›å…¥jenkinså®¹å™¨å†…éƒ¨</span><br><span class="line">docker exec -it -u root jenkins &#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line"># 6. åˆ‡æ¢åˆ°ä¸‹é¢ç›®å½•</span><br><span class="line">cd &#x2F;var&#x2F;jenkins_home</span><br><span class="line"></span><br><span class="line"># 7. å¦‚æœworkspaceå¯æ“ä½œçš„ç”¨æˆ·ä¸æ˜¯jenkinsç”¨æˆ·éœ€æ·»åŠ jenkinsç”¨æˆ·æ“ä½œæƒé™</span><br><span class="line">ls -all</span><br><span class="line"></span><br><span class="line"># 8. æ·»åŠ jenkinsç”¨æˆ·æ“ä½œæƒé™</span><br><span class="line">chown -R jenkins workspace</span><br><span class="line"></span><br><span class="line"># 9. æ·»åŠ ç›®å½•æ“ä½œæƒé™</span><br><span class="line">chmod 777 workspace</span><br></pre></td></tr></table></figure><h2 id="ğŸ”¥-æ€»ç»“">ğŸ”¥ æ€»ç»“</h2><p>ç»è¿‡æˆ‘ä»¬å¤šæ¬¾è½¯ä»¶çš„å®‰è£…é…ç½®ï¼Œæˆ‘ä»¬é€æ­¥æŒæ¡äº†å¦‚ä½•ä¸ŠåºŠSpring Booté¡¹ç›®åˆ°Gitlabä¸­ï¼Œå¹¶ä½¿ç”¨Jenkinsè‡ªåŠ¨æ„å»ºä»»åŠ¡ï¼Œå¦å¤–ä¾æ‰˜äºDockerï¼Œè®©è¿™ä¸€åˆ‡å˜å¾—æ›´åŠ æ–¹ä¾¿ï¼Œå¸Œæœ›å¤§å®¶éƒ½å¤šå¤šæ€è€ƒï¼Œè®©æœºå™¨è‡ªåŠ¨å¹²æ´»ï¼Œå‡å°‘æˆ‘ä»¬ITä»ä¸šäººå‘˜çš„é‡å¤ã€ç¹ççš„å·¥ä½œé‡ã€‚</p><div class="footer"><div class="references"><section class="header"><i class="fas fa-quote-left fa-fw" aria-hidden="true"></i> <span>å‚è€ƒèµ„æ–™</span></section><section class="body"><ul><li><a href="https://www.bilibili.com/read/cv5758217/" rel="external nofollow noopener noreferrer" target="_blank">SpringBoot+GitLab+Docker+Jenkinså®ç°æŒç»­é›†æˆ</a></li><li><a href="https://blog.csdn.net/hunheidaode/article/details/104003270" rel="external nofollow noopener noreferrer" target="_blank">åŸºäºJenkins+Gitlab+Dockerå®ç°SpringBooté¡¹ç›®è‡ªåŠ¨éƒ¨ç½²ã€æŒç»­é›†æˆã€æŒç»­äº¤ä»˜</a></li><li><a href="https://www.cnblogs.com/sxdcgaq8080/p/10569906.html" rel="external nofollow noopener noreferrer" target="_blank">Jenkins+GitLab+docker+springboot å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²</a></li></ul></section></div><div class="related_posts"><section class="header"><i class="fas fa-bookmark fa-fw" aria-hidden="true"></i><span>ç›¸å…³æ–‡ç« </span></section><section class="body"><div class="vlts-rps"><a class="item" href="/posts/a460b91e.html" title="CentOSæ­å»ºGitlabçš„è¯¦ç»†æ•™ç¨‹" rel="bookmark "><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article-headimg/gitlab-black.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article-headimg/gitlab-black.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"><span class="title">CentOSæ­å»ºGitlabçš„è¯¦ç»†æ•™ç¨‹</span><span class="excerpt">è®°å½•ä¸€æ¬¡CentOSæ­å»ºgitlabæœåŠ¡å™¨çš„ç»å†ã€‚</span></a></div></section></div><div class="copyright"><blockquote><p><svg id="icon-touxiang" viewbox="0 0 1024 1024" width="17" height="17" style="vertical-align:-3.2px"><path d="M614.72 554.538c-49.086-6.399-100.27-2.1-149.256-2.1-119.465 0-209.04 95.972-206.84 215.437 0 17.095 8.498 31.99 23.493 40.488 14.896 10.697 34.09 14.896 53.285 17.095 61.882 6.398 123.664 6.398 198.342 6.398 40.488 0 93.872-2.1 142.858-4.298 27.692 0 53.284-4.3 78.877-14.896 19.194-8.498 29.89-19.194 31.99-40.488 8.498-104.57-72.478-204.84-172.75-217.636zM680.8 375.39c0-87.474-74.678-162.053-164.251-162.053-89.574 0-162.053 74.679-162.053 162.053-2.1 87.474 74.678 164.252 162.053 164.252 89.673 0 164.252-74.678 164.252-164.252z" fill="#FFFFFF"/><path d="M512.35 0C228.733 0 0.5 228.233 0.5 511.85s228.233 511.85 511.85 511.85 511.85-228.233 511.85-511.85S795.967 0 512.35 0z m275.12 772.074c-2.1 21.294-12.797 31.99-31.991 40.488-25.593 10.697-51.185 14.896-78.877 14.896-49.086 2.099-102.37 4.298-142.858 4.298-74.678 0-136.46 0-198.342-6.398-19.195-2.1-38.389-6.398-53.285-17.095-14.895-8.497-23.493-23.493-23.493-40.488-2.1-119.465 87.475-215.437 206.84-215.437 49.085 0 100.27-4.299 149.256 2.1 100.27 12.896 181.247 113.166 172.75 217.636zM354.495 375.39c0-87.474 72.479-162.053 162.053-162.053S680.8 288.016 680.8 375.39c0 89.574-74.679 164.252-164.252 164.252-87.375 0-164.152-76.778-162.053-164.252z" fill="#249FF8"/></svg> æœ¬æ–‡ç”± <a href="https://hasaik.com">Â·é“¶æ²³å°å¾</a> åˆ›ä½œï¼Œå¦‚æœæ‚¨è§‰å¾—æœ¬æ–‡ä¸é”™ï¼Œè¯·éšæ„èµèµ</p><p><svg id="icon-fenxiang" viewbox="0 0 1024 1024" width="17" height="17" style="vertical-align:-3.2px"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#F3B243"/><path d="M630.784 323.584m-90.112 0a90.112 90.112 0 1 0 180.224 0 90.112 90.112 0 1 0-180.224 0Z" fill="#FFFFFF"/><path d="M630.784 688.128m-90.112 0a90.112 90.112 0 1 0 180.224 0 90.112 90.112 0 1 0-180.224 0Z" fill="#FFFFFF"/><path d="M319.488 512m-90.112 0a90.112 90.112 0 1 0 180.224 0 90.112 90.112 0 1 0-180.224 0Z" fill="#FFFFFF"/><path d="M341.037056 480.370688l257.343488-175.7184 27.713536 40.59136-257.339392 175.7184z" fill="#FFFFFF"/><path d="M349.052928 488.452096l252.854272 182.10816-28.725248 39.886848-252.874752-182.10816z" fill="#FFFFFF"/></svg> åšå®¢å†…å®¹éµå¾ª ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™… (CC BY-NC-SA 4.0) åè®®</p><p><svg id="icon-ziyuan" viewbox="0 0 1024 1024" width="17" height="17" style="vertical-align:-3.2px"><path d="M511.854421 0a511.854421 511.854421 0 1 0 512.145579 511.854421A511.854421 511.854421 0 0 0 511.854421 0z" fill="#39B54A"/><path d="M576.491328 630.355417l-116.462895 116.462894a129.56497 129.56497 0 0 1-182.555587 0l-2.0381-2.038101a128.982656 128.982656 0 0 1 0-182.26443l81.232868-81.232868a179.644015 179.644015 0 0 0 13.102076 70.460051l-52.69946 52.408302a69.877737 69.877737 0 0 0 0 98.702303l2.038101 2.038101a70.168894 70.168894 0 0 0 98.702303 0l116.462895-116.462894a69.877737 69.877737 0 0 0 0-98.702304l-2.038101-2.0381a69.586579 69.586579 0 0 0-13.975547-10.772818l42.508956-42.508956a128.109184 128.109184 0 0 1 13.102076 11.355132l2.0381 2.0381a129.273813 129.273813 0 0 1 0 182.26443z" fill="#FFFFFF"/><path d="M746.235997 460.901905l-81.232869 81.232869a179.352858 179.352858 0 0 0-13.102076-70.460051l52.69946-52.408303a69.877737 69.877737 0 0 0 0-98.702303l-2.038101-2.038101a69.877737 69.877737 0 0 0-98.702303 0l-116.462894 116.462895a69.877737 69.877737 0 0 0 0 98.702303l2.0381 2.038101a68.421951 68.421951 0 0 0 13.975548 10.772817l-42.508957 42.508957a136.552744 136.552744 0 0 1-13.102076-11.355132l-2.0381-2.038101a128.982656 128.982656 0 0 1 0-182.26443l116.462894-116.462894a129.56497 129.56497 0 0 1 182.555587 0l2.038101 2.0381a128.982656 128.982656 0 0 1 0 182.26443z" fill="#FFFFFF"/></svg> æœ¬æ–‡æ°¸ä¹…é“¾æ¥æ˜¯ï¼š<a href="https://hasaik.com/posts/3fe685e0.html">https://hasaik.com/posts/3fe685e0.html</a></p></blockquote></div><div id="reward"><div>æ‚¨çš„å–œæ¬¢æ˜¯ä½œè€…å†™ä½œæœ€å¤§çš„åŠ¨åŠ›ï¼â¤ï¸</div><div class="reward"><a href="https://github.com/Kaiyuan/donate-page" target="_blank" class="tr3" title="Github" rel="external nofollow noopener noreferrer"><span id="github"></span></a><ul id="RewardBox" class="list pos-f tr3"><li id="AliPayOR" title="æ”¯ä»˜å®æ‰“èµ">AliPay</li><li id="WeChatPayOR" title="å¾®ä¿¡æ‰“èµ">WeChatPay</li><li id="QQPayOR" title="QQæ‰“èµ">QQPay</li></ul><div id="RewardText" class="tr3">Donate</div><div id="QRBox" class="pos-f left-100"><div id="MainBox"></div></div></div></div><script>jQuery(document).ready(function(){var a=$("#QRBox"),d=$("#MainBox");function t(e){e&&d.css("background-image","url("+e+")"),$("#RewardText,#RewardBox,#github").addClass("blurC"),a.fadeIn(300,function(e){d.addClass("showQR")})}$("#RewardBox>li").click(function(e){var a=$(this).attr("id");"AliPayOR"===a?t("https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/reward/AliPayQR.png"):"WeChatPayOR"===a?t("https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/reward/WeChatQR.png"):"QQPayOR"===a&&t("https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/reward/QQPayQR.png")}),d.click(function(e){d.removeClass("showQR").addClass("hideQR"),setTimeout(function(e){a.fadeOut(300,function(e){d.removeClass("hideQR")}),$("#RewardText,#RewardBox,#github").removeClass("blurC")},600)})})</script><style>#reward{text-align:center;width:100%;margin-top:40px;margin-bottom:-32px}#reward .reward{margin-left:20px;margin-top:80px;margin-bottom:-100px;display:inline-block}#RewardBox{position:relative;top:calc(50% - 15px);background-color:#fff;border:1px solid #ddd;border-radius:6px;float:left;z-index:1}.reward ul{padding-left:0;margin-left:0}#RewardBox #AliPayOR{background-image:url(https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/reward/alipay.png)}#RewardBox #WeChatPayOR{background-image:url(https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/reward/wechatpay.png)}#RewardBox #QQPayOR{background-image:url(https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/reward/qqpay.png)}#RewardBox>li:first-child{border-width:0}#RewardText{position:relative;font-size:12px;width:70px;height:70px;line-height:40px;color:#fff;background:#ffd886 url(https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/reward/like.png) no-repeat center 10px;background-size:20px;border-radius:35px;text-align:center;left:calc(50% - 120px);top:-80px;transform:rotatez(-15deg)}.tr3{transition:all .3s}#QRBox{position:relative;top:-100px;left:0;z-index:1;background-color:rgba(255,255,255,.3);display:none;perspective:400px}.left-100{width:100%;height:100%}#RewardBox li{margin-top:0;margin-bottom:0;width:74px;float:left;text-align:center;border-left:1px solid #ddd;background:no-repeat center center;background-color:rgba(204,217,220,.1);background-size:50px;transition:all .3s;cursor:url(https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/ayuda.cur),auto;overflow:hidden;line-height:600px;height:28px;-webkit-filter:grayscale(1);filter:grayscale(1);opacity:.5}#RewardBox li:hover{background-color:rgba(204,217,220,.3);-webkit-filter:grayscale(0);filter:grayscale(0);opacity:1}#RewardBox a{display:block}#github{position:relative;display:inline-block;z-index:1;width:24px;height:24px;top:-2px;left:-14px;background:no-repeat center center url(https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/reward/github.png);background-size:contain;opacity:.3;transform:rotatez(15deg)}#MainBox{cursor:url(https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/ayuda.cur),auto;position:absolute;text-align:center;width:200px;height:200px;left:calc(50% - 100px);top:calc(50% - 100px);background:#fff no-repeat center center;background-size:190px;border-radius:6px;box-shadow:0 2px 7px rgba(0,0,0,.3);opacity:0;transition:all 1s ease-in-out;transform-style:preserve-3d;transform-origin:center center;overflow:hidden}.reward .blurC{-webkit-filter:blur(3px);filter:blur(3px)}#MainBox.showQR{opacity:1;animation-name:showQR;animation-duration:3s;animation-timing-function:ease-in-out;animation-iteration-count:1;animation-fill-mode:forwards;-webkit-animation:showQR 3s ease-in-out 0s 1 normal forwards}@keyframes showQR{from{transform:rotateX(90deg)}8%{opacity:1;transform:rotateX(-60deg)}18%{opacity:1;transform:rotateX(40deg)}34%{opacity:1;transform:rotateX(-28deg)}44%{opacity:1;transform:rotateX(18deg)}58%{opacity:1;transform:rotateX(-12deg)}72%{opacity:1;transform:rotateX(9deg)}88%{opacity:1;transform:rotateX(-5deg)}96%{opacity:1;transform:rotateX(2deg)}to{opacity:1}}#MainBox.hideQR{opacity:1;animation-name:hideQR;animation-duration:.5s;animation-timing-function:ease-in-out;animation-iteration-count:1;animation-fill-mode:forwards;-webkit-animation:hideQR .5s ease-in-out 0s 1 normal forwards}@keyframes hideQR{20%,50%{transform:scale(1.08,1.08);opacity:1}to{opacity:0;transform:rotateZ(40deg) scale(.6,.6)}}.md #reward .reward ul li:before{content:none}</style></div><div class="article-meta" id="bottom"><hr><div class="new-meta-box"><div class="new-meta-item date" itemprop="dateUpdated" datetime="2020-12-09T04:10:02+00:00"><a class="notlink"><i class="fas fa-edit fa-fw" aria-hidden="true"></i><p>æ›´æ–°äºï¼š2020-12-09</p></a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/Gitlab/" rel="nofollow"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i><p>Gitlab</p></a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/Jenkins/" rel="nofollow"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i><p>Jenkins</p></a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/Docker/" rel="nofollow"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i><p>Docker</p></a></div><div class="new-meta-item share -mob-share-list"><div class="-mob-share-list share-body"><a class="-mob-share-qq" rel="external nofollow noopener noreferrer" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://hasaik.com/posts/3fe685e0.html&title=Jenkins + Gitlab + Docker + Spring Boot å®ç°è‡ªåŠ¨éƒ¨ç½² - Xu's Blog&pics=https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article-thumbnail/docker.png&summary=æœ¬æ–‡ä¸»è¦ä»‹ç»æŒç»­é›†æˆçš„æ­å»ºæ–¹å¼ï¼Œé‡‡ç”¨ Docker çš„æ–¹å¼å»æ­å»º Jenkins ç¯å¢ƒï¼Œç¯‡å¹…æœ‰ç‚¹é•¿ï¼Œè¯·ä»”ç»†é˜…è¯»ã€‚ï¼ˆæ— åºŸè¯ç‰ˆï¼‰"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qq.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qq.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"> </a><a class="-mob-share-qzone" rel="external nofollow noopener noreferrer" target="_blank" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://hasaik.com/posts/3fe685e0.html&title=Jenkins + Gitlab + Docker + Spring Boot å®ç°è‡ªåŠ¨éƒ¨ç½² - Xu's Blog&pics=https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article-thumbnail/docker.png&summary=æœ¬æ–‡ä¸»è¦ä»‹ç»æŒç»­é›†æˆçš„æ­å»ºæ–¹å¼ï¼Œé‡‡ç”¨ Docker çš„æ–¹å¼å»æ­å»º Jenkins ç¯å¢ƒï¼Œç¯‡å¹…æœ‰ç‚¹é•¿ï¼Œè¯·ä»”ç»†é˜…è¯»ã€‚ï¼ˆæ— åºŸè¯ç‰ˆï¼‰"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qzone.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qzone.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"> </a><a class="-mob-share-weibo" rel="external nofollow noopener noreferrer" target="_blank" href="http://service.weibo.com/share/share.php?url=https://hasaik.com/posts/3fe685e0.html&title=Jenkins + Gitlab + Docker + Spring Boot å®ç°è‡ªåŠ¨éƒ¨ç½² - Xu's Blog&pics=https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/article-thumbnail/docker.png&summary=æœ¬æ–‡ä¸»è¦ä»‹ç»æŒç»­é›†æˆçš„æ­å»ºæ–¹å¼ï¼Œé‡‡ç”¨ Docker çš„æ–¹å¼å»æ­å»º Jenkins ç¯å¢ƒï¼Œç¯‡å¹…æœ‰ç‚¹é•¿ï¼Œè¯·ä»”ç»†é˜…è¯»ã€‚ï¼ˆæ— åºŸè¯ç‰ˆï¼‰"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/weibo.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/weibo.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"></a><div class="hoverbox"><a class="share"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/wechat.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/wechat.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"></a><div class="target"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPgAAAD4CAAAAADkunTXAAACTUlEQVR42u3aQXLCQAwEQP7/6eSeKsrSaOM4ovcGxnh7uQiNXl8ful7g4ODg4OCL4K9wvf3iN9fT939en+4XHBwcHBx8I7xcABQ32gVVnzfdLzg4ODg4+Gb4ZQFQ3Ei3AKkezHi/4ODg4ODg4O2CIm1wVJ8PDg4ODg4Ofr6A+a1AARwcHBwcHPxAgz4cHKg2IB6bpICDg4ODgz8IHg/M/dHreL/g4ODg4OCL4NNVPZBqAyIdBCzvFxwcHBwcfBE8LRC6wX86OHBqwAAcHBwcHHwjPA3ou+ApJIZeNSLAwcHBwcEXw083Hk7f3x4UAAcHBwcHXwTvBvNp0HBVwNwVaICDg4ODg2+En/rjX208nCqMuoME4ODg4ODgm+HdxsHdBdCxQAEcHBwcHHwBPG3oTxsZ3YNMf4hxkgIODg4ODv4P4emAXvr5UwddDhTAwcHBwcEXwKeBwl0Df9XXtyUp4ODg4ODgD4SfCgJ+q3AZHxg4ODg4OPhC+PTBVXB6f1r4XBYw4ODg4ODgi+HdwqN6vVuApMEFODg4ODj4J8PTgmI6SHAq4Bg3IsDBwcHBwR8Mn660wTAdLEyfDw4ODg4Ovgn+ClfakOgWStNGxWUjAhwcHBwcfAE8HeBL70/h5eCg24EBBwcHBwdfAO8G8WkjYRoQdAcFwMHBwcHBwc8NEkwbFfFBgoODg4ODg7eD+3QgYLpuq9zAwcHBwcEfAO8GCmkh0j2Q6QABODg4ODj4ZnhaGJwKILoDA+kPAw4ODg4Ovgn+aQscHBwcHHzB+gbh74WQ5Ygg4AAAAABJRU5ErkJggg=="></div></div><a class="-mob-share-telegram" rel="external nofollow noopener noreferrer" target="_blank" href="https://t.me/share/url?url=https://hasaik.com/posts/3fe685e0.html&text=Jenkins + Gitlab + Docker + Spring Boot å®ç°è‡ªåŠ¨éƒ¨ç½² - Xu's Blog"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/telegram.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/telegram.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"></a></div></div></div></div><div class="prev-next"><a class="prev" href="/posts/bc6f4faf.html"><p class="title"><i class="fas fa-chevron-left" aria-hidden="true"></i>Javaä»£æ›¿ifå’Œswitchçš„æ–¹æ³•</p><p class="content">ğŸ‰ å…¬å…±æ¥å£ 1234567891011121314package com.scaffolding.example.test;&#x2F;** * å…¬å…±æ¥å£ * * @author xuxu ...</p></a><a class="next" href="/posts/6d42a1fc.html"><p class="title">CyclicBarrier çš„ç†è§£å’Œä½¿ç”¨<i class="fas fa-chevron-right" aria-hidden="true"></i></p><p class="content">ğŸ”¥ CyclicBarrier çš„ç†è§£ CyclicBarrier æ˜¯ä¸€ä¸ªåŒæ­¥è¾…åŠ©ç±»ï¼Œå®ƒå…è®¸ä¸€ç»„çº¿ç¨‹äº’ç›¸ç­‰å¾…ï¼Œç›´åˆ°åˆ°è¾¾æŸä¸ªå…¬å…±å±éšœç‚¹ (common barrier point)ã€‚åœ¨æ¶‰åŠä¸€ç»„å›º...</p></a></div></article><article class="post white-box reveal shadow floatable" id="comments"><p ct><i class="fas fa-comments"></i> ç”¨æˆ·äº¤æµåŒº</p><p cst>æ¸©é¦¨æç¤º: éµçºªå®ˆæ³•, å‹å–„è¯„è®º!</p><div id="valine_container" class="valine_thread"><i class="fas fa-cog fa-spin fa-fw fa-2x"></i></div></article></div><aside class="l_side"><section class="widget blogger shadow floatable desktop mobile"><div class="content"><a class="avatar flat-box" rectangle href="/about/"><img no-lazy src="/images/avatar.jpg"></a><div class="text"><h2>Â·é“¶æ²³å°å¾</h2></div><div id="binft" align="center"></div><script src="/js/typewriter-color.js"></script><div class="social-wrapper"><a href="https://github.com/XuxuGood" class="social flat-btn" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/029-github.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/029-github.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"> </a><a href="mailto:22476705@qq.com" class="social flat-btn" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/053-email.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/053-email.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"> </a><a href="https://mailchi.mp/3ca18a2a9749/xuxuy" class="social flat-btn" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/052-heartbeat.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/052-heartbeat.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"> </a><a href="https://blog.csdn.net/qq_42889280" class="social flat-btn" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/051-csdn.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/051-csdn.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"> </a><a href="/atom.xml" class="social flat-btn" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/020-rss.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/020-rss.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"></a></div></div></section><section class="widget toc-wrapper shadow floatable desktop mobile" id="toc-div"><header class="pure"><div><i class="fas fa-list fa-fw" aria-hidden="true"></i>&nbsp;æœ¬æ–‡ç›®å½•</div></header><div class="content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%A5-Docker%E5%AE%89%E8%A3%85"><span class="toc-number">1.</span> <span class="toc-text">ğŸ”¥ Dockerå®‰è£…</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-Docker%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.1.</span> <span class="toc-text">ğŸ‰ Dockerå®‰è£…æ­¥éª¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E8%AE%BE%E7%BD%AEustc%E7%9A%84%E9%95%9C%E5%83%8F-%E6%AD%A4%E5%A4%84%E4%B9%9F%E5%8F%AF%E7%94%A8%E9%98%BF%E9%87%8C%E4%BA%91%E5%85%8D%E8%B4%B9%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F"><span class="toc-number">1.2.</span> <span class="toc-text">ğŸ‰ è®¾ç½®ustcçš„é•œåƒ(æ­¤å¤„ä¹Ÿå¯ç”¨é˜¿é‡Œäº‘å…è´¹é•œåƒåŠ é€Ÿ)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-Docker%E7%9A%84%E5%90%AF%E5%8A%A8%E4%B8%8E%E5%81%9C%E6%AD%A2"><span class="toc-number">1.3.</span> <span class="toc-text">ğŸ‰ Dockerçš„å¯åŠ¨ä¸åœæ­¢</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%A5-Gitlab%E5%AE%89%E8%A3%85"><span class="toc-number">2.</span> <span class="toc-text">ğŸ”¥ Gitlabå®‰è£…</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E6%9F%A5%E8%AF%A2%E5%B9%B6%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F"><span class="toc-number">2.1.</span> <span class="toc-text">ğŸ‰ æŸ¥è¯¢å¹¶æ‹‰å–é•œåƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E5%88%9B%E5%BB%BAGitLab%E7%9A%84%E9%85%8D%E7%BD%AE-config-%E3%80%81-%E6%97%A5%E5%BF%97-log-%E3%80%81%E6%95%B0%E6%8D%AE-data-%E4%B8%89%E4%B8%AA%E6%96%87%E4%BB%B6%E5%A4%B9%EF%BC%8C%E6%94%BE%E5%88%B0%E5%AE%B9%E5%99%A8%E4%B9%8B%E5%A4%96%EF%BC%8C-%E4%BE%BF%E4%BA%8E%E6%97%A5%E5%90%8E%E5%8D%87%E7%BA%A7%EF%BC%8C-%E5%9B%A0%E6%AD%A4%E8%AF%B7%E5%85%88%E5%87%86%E5%A4%87%E8%BF%99%E4%B8%89%E4%B8%AA%E7%9B%AE%E5%BD%95"><span class="toc-number">2.2.</span> <span class="toc-text">ğŸ‰ åˆ›å»ºGitLabçš„é…ç½® (config) ã€ æ—¥å¿— (log) ã€æ•°æ® (data) ä¸‰ä¸ªæ–‡ä»¶å¤¹ï¼Œæ”¾åˆ°å®¹å™¨ä¹‹å¤–ï¼Œ ä¾¿äºæ—¥åå‡çº§ï¼Œ å› æ­¤è¯·å…ˆå‡†å¤‡è¿™ä¸‰ä¸ªç›®å½•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E8%BF%90%E8%A1%8CGitLab%E5%AE%B9%E5%99%A8"><span class="toc-number">2.3.</span> <span class="toc-text">ğŸ‰ è¿è¡ŒGitLabå®¹å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">2.4.</span> <span class="toc-text">ğŸ‰ ä¿®æ”¹é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E6%9B%B4%E6%94%B9%E5%AE%8C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%BF%90%E8%A1%8C%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%E9%87%8D%E5%90%AF%E5%AE%B9%E5%99%A8"><span class="toc-number">2.5.</span> <span class="toc-text">ğŸ‰ æ›´æ”¹å®Œé…ç½®æ–‡ä»¶è¿è¡Œä»¥ä¸‹å‘½ä»¤é‡å¯å®¹å™¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%A5-Jenkins%E5%AE%89%E8%A3%85"><span class="toc-number">3.</span> <span class="toc-text">ğŸ”¥ Jenkinså®‰è£…</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F"><span class="toc-number">3.1.</span> <span class="toc-text">ğŸ‰ æ‹‰å–é•œåƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95"><span class="toc-number">3.2.</span> <span class="toc-text">ğŸ‰ åˆ›å»ºç›®å½•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E5%90%AF%E5%8A%A8%E5%AE%B9%E5%99%A8"><span class="toc-number">3.3.</span> <span class="toc-text">ğŸ‰ å¯åŠ¨å®¹å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E6%89%93%E5%BC%80Jenkins%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2"><span class="toc-number">3.4.</span> <span class="toc-text">ğŸ‰ æ‰“å¼€Jenkinsç®¡ç†é¡µé¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E6%9F%A5%E7%9C%8B%E6%97%A5%E5%BF%97%E8%8E%B7%E5%8F%96%E5%88%9D%E5%A7%8B%E5%AF%86%E7%A0%81"><span class="toc-number">3.5.</span> <span class="toc-text">ğŸ‰ æŸ¥çœ‹æ—¥å¿—è·å–åˆå§‹å¯†ç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E5%AE%89%E8%A3%85%E6%8E%A8%E8%8D%90%E7%9A%84%E6%8F%92%E4%BB%B6"><span class="toc-number">3.6.</span> <span class="toc-text">ğŸ‰ å®‰è£…æ¨èçš„æ’ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E6%88%90%E5%8A%9F%E5%AE%89%E8%A3%85Jenkins"><span class="toc-number">3.7.</span> <span class="toc-text">ğŸ‰ æˆåŠŸå®‰è£…Jenkins</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%A5-Jenkins%E9%85%8D%E7%BD%AE"><span class="toc-number">4.</span> <span class="toc-text">ğŸ”¥ Jenkinsé…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E8%AE%BE%E7%BD%AEJenkins%E6%97%B6%E5%8C%BA%E4%B8%BA%E5%8C%97%E4%BA%AC%E6%97%B6%E9%97%B4"><span class="toc-number">4.1.</span> <span class="toc-text">ğŸ‰ è®¾ç½®Jenkinsæ—¶åŒºä¸ºåŒ—äº¬æ—¶é—´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E5%AE%89%E8%A3%85%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA%E5%92%8C%E9%83%A8%E7%BD%B2%E6%89%80%E9%9C%80%E7%9A%84%E6%8F%92%E4%BB%B6"><span class="toc-number">4.2.</span> <span class="toc-text">ğŸ‰ å®‰è£…è‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²æ‰€éœ€çš„æ’ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%90%B3-%E5%AE%89%E8%A3%85Maven%E6%8F%92%E4%BB%B6"><span class="toc-number">4.2.1.</span> <span class="toc-text">ğŸ³ å®‰è£…Mavenæ’ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%90%B3-%E5%AE%89%E8%A3%85Gitlab%E6%8F%92%E4%BB%B6"><span class="toc-number">4.2.2.</span> <span class="toc-text">ğŸ³ å®‰è£…Gitlabæ’ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%90%B3-%E5%AE%89%E8%A3%85SSH%E6%8F%92%E4%BB%B6%E5%92%8CPublish-Over-SSH%E6%8F%92%E4%BB%B6"><span class="toc-number">4.2.3.</span> <span class="toc-text">ğŸ³ å®‰è£…SSHæ’ä»¶å’ŒPublish Over SSHæ’ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%90%B3-%E5%AE%89%E8%A3%85Docker%E6%8F%92%E4%BB%B6"><span class="toc-number">4.2.4.</span> <span class="toc-text">ğŸ³ å®‰è£…Dockeræ’ä»¶</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E6%B7%BB%E5%8A%A0%E5%87%AD%E6%8D%AE"><span class="toc-number">4.3.</span> <span class="toc-text">ğŸ‰ æ·»åŠ å‡­æ®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E9%85%8D%E7%BD%AESSH-remote-hosts"><span class="toc-number">4.4.</span> <span class="toc-text">ğŸ‰ é…ç½®SSH remote hosts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E9%85%8D%E7%BD%AEPublish-over-SSH"><span class="toc-number">4.5.</span> <span class="toc-text">ğŸ‰ é…ç½®Publish over SSH</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E5%85%A8%E5%B1%80%E5%B7%A5%E5%85%B7%E9%85%8D%E7%BD%AE"><span class="toc-number">4.6.</span> <span class="toc-text">ğŸ‰ å…¨å±€å·¥å…·é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%90%B3-%E5%AE%89%E8%A3%85JDK"><span class="toc-number">4.6.1.</span> <span class="toc-text">ğŸ³ å®‰è£…JDK</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%90%B3-%E5%AE%89%E8%A3%85Git"><span class="toc-number">4.6.2.</span> <span class="toc-text">ğŸ³ å®‰è£…Git</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%90%B3-%E5%AE%89%E8%A3%85Maven"><span class="toc-number">4.6.3.</span> <span class="toc-text">ğŸ³ å®‰è£…Maven</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%90%B3-%E5%AE%89%E8%A3%85Docker"><span class="toc-number">4.6.4.</span> <span class="toc-text">ğŸ³ å®‰è£…Docker</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%A5-%E6%96%B0%E5%BB%BAJenkins%E4%BB%BB%E5%8A%A1"><span class="toc-number">5.</span> <span class="toc-text">ğŸ”¥ æ–°å»ºJenkinsä»»åŠ¡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E7%82%B9%E5%87%BB%E6%96%B0%E5%BB%BA%E4%BB%BB%E5%8A%A1%EF%BC%8C%E8%BE%93%E5%85%A5%E5%90%8D%E7%A7%B0"><span class="toc-number">5.1.</span> <span class="toc-text">ğŸ‰ ç‚¹å‡»æ–°å»ºä»»åŠ¡ï¼Œè¾“å…¥åç§°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86"><span class="toc-number">5.2.</span> <span class="toc-text">ğŸ‰ æºç ç®¡ç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E6%9E%84%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">5.3.</span> <span class="toc-text">ğŸ‰ æ„å»ºè§¦å‘å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E6%B7%BB%E5%8A%A0webhook"><span class="toc-number">5.4.</span> <span class="toc-text">ğŸ‰ æ·»åŠ webhook</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E6%9E%84%E5%BB%BA%E7%8E%AF%E5%A2%83"><span class="toc-number">5.5.</span> <span class="toc-text">ğŸ‰ æ„å»ºç¯å¢ƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-Pre-Steps-%E6%9E%84%E5%BB%BA%E4%B9%8B%E5%89%8D%E7%9A%84%E6%AD%A5%E9%AA%A4"><span class="toc-number">5.6.</span> <span class="toc-text">ğŸ‰ Pre Steps(æ„å»ºä¹‹å‰çš„æ­¥éª¤)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-Build-%E6%9E%84%E5%BB%BA"><span class="toc-number">5.7.</span> <span class="toc-text">ğŸ‰ Build(æ„å»º)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-Post-Steps-%E6%89%A7%E8%A1%8C%E4%BB%BB%E5%8A%A1"><span class="toc-number">5.8.</span> <span class="toc-text">ğŸ‰ Post Steps(æ‰§è¡Œä»»åŠ¡)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E6%B5%8B%E8%AF%95"><span class="toc-number">5.9.</span> <span class="toc-text">ğŸ‰ æµ‹è¯•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%A5-%E9%85%8D%E7%BD%AE%E9%82%AE%E4%BB%B6%E9%80%9A%E7%9F%A5"><span class="toc-number">6.</span> <span class="toc-text">ğŸ”¥ é…ç½®é‚®ä»¶é€šçŸ¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E5%AE%89%E8%A3%85%E9%82%AE%E4%BB%B6%E6%8F%92%E4%BB%B6"><span class="toc-number">6.1.</span> <span class="toc-text">ğŸ‰ å®‰è£…é‚®ä»¶æ’ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE"><span class="toc-number">6.2.</span> <span class="toc-text">ğŸ‰ ç³»ç»Ÿè®¾ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%90%B3-%E8%AE%BE%E7%BD%AEJenkins%E5%9C%B0%E5%9D%80%E5%92%8C%E7%AE%A1%E7%90%86%E5%91%98%E9%82%AE%E7%AE%B1%E5%9C%B0%E5%9D%80"><span class="toc-number">6.2.1.</span> <span class="toc-text">ğŸ³ è®¾ç½®Jenkinsåœ°å€å’Œç®¡ç†å‘˜é‚®ç®±åœ°å€</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%90%B3-%E8%AE%BE%E7%BD%AE%E5%8F%91%E4%BB%B6%E4%BA%BA%E7%AD%89%E4%BF%A1%E6%81%AF"><span class="toc-number">6.2.2.</span> <span class="toc-text">ğŸ³ è®¾ç½®å‘ä»¶äººç­‰ä¿¡æ¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%90%B3-%E9%85%8D%E7%BD%AE%E9%82%AE%E4%BB%B6%E5%86%85%E5%AE%B9%E6%A8%A1%E7%89%88"><span class="toc-number">6.2.3.</span> <span class="toc-text">ğŸ³ é…ç½®é‚®ä»¶å†…å®¹æ¨¡ç‰ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%90%B3-%E8%AE%BE%E7%BD%AE%E9%82%AE%E4%BB%B6%E8%A7%A6%E5%8F%91%E6%9C%BA%E5%88%B6"><span class="toc-number">6.2.4.</span> <span class="toc-text">ğŸ³ è®¾ç½®é‚®ä»¶è§¦å‘æœºåˆ¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%90%B3-%E9%85%8D%E7%BD%AEJenkins%E8%87%AA%E5%B8%A6%E7%9A%84%E9%82%AE%E4%BB%B6%E5%8A%9F%E8%83%BD"><span class="toc-number">6.2.5.</span> <span class="toc-text">ğŸ³ é…ç½®Jenkinsè‡ªå¸¦çš„é‚®ä»¶åŠŸèƒ½</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE"><span class="toc-number">6.3.</span> <span class="toc-text">ğŸ‰ é¡¹ç›®é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%90%B3-%E8%BF%9B%E5%85%A5%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE%E7%95%8C%E9%9D%A2"><span class="toc-number">6.3.1.</span> <span class="toc-text">ğŸ³ è¿›å…¥é¡¹ç›®é…ç½®ç•Œé¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%90%B3-%E9%85%8D%E7%BD%AE%E6%9E%84%E5%BB%BA%E8%AE%BE%E7%BD%AE%E6%A8%A1%E5%9D%97"><span class="toc-number">6.3.2.</span> <span class="toc-text">ğŸ³ é…ç½®æ„å»ºè®¾ç½®æ¨¡å—</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%90%B3-%E9%85%8D%E7%BD%AE%E6%9E%84%E5%BB%BA%E5%90%8E%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%9D%97"><span class="toc-number">6.3.3.</span> <span class="toc-text">ğŸ³ é…ç½®æ„å»ºåæ“ä½œæ¨¡å—</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%89-%E6%9E%84%E5%BB%BA%E8%A7%A6%E5%8F%91%E9%82%AE%E4%BB%B6%E6%B5%8B%E8%AF%95"><span class="toc-number">6.4.</span> <span class="toc-text">ğŸ‰ æ„å»ºè§¦å‘é‚®ä»¶æµ‹è¯•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%A5-%E6%B3%A8%E6%84%8F"><span class="toc-number">7.</span> <span class="toc-text">ğŸ”¥ æ³¨æ„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%A5-%E6%80%BB%E7%BB%93"><span class="toc-number">8.</span> <span class="toc-text">ğŸ”¥ æ€»ç»“</span></a></li></ol></div></section><script>$("span[class='toc-number']").each(function(){var t=$(this).text();$(this).text(t.substring(0,t.length-1))})</script><style>.l_side .toc-wrapper .toc-item .toc-link .toc-number:before{content:'ã€'}.l_side .toc-wrapper .toc-item .toc-link .toc-number:after{content:'ã€‘'}</style></aside><script>window.pdata={},pdata.ispage=!0,pdata.postTitle="Jenkins + Gitlab + Docker + Spring Boot å®ç°è‡ªåŠ¨éƒ¨ç½²",pdata.commentPath="",pdata.commentPlaceholder="";var l_header=document.getElementById("l_header");l_header.classList.add("show")</script></div><footer class="footer clearfix"><br><br><div class="aplayer-container"><meting-js theme="#1BCDFC" autoplay volume="0.7" loop order="list" fixed="false" list-max-height="320px" server="netease" type="playlist" id="134573504" list-folded="true"></meting-js></div><br><div class="social-wrapper"><a href="https://github.com/XuxuGood" class="social flat-btn" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/029-github.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/029-github.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"> </a><a href="mailto:22476705@qq.com" class="social flat-btn" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/053-email.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/053-email.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"> </a><a href="https://mailchi.mp/3ca18a2a9749/xuxuy" class="social flat-btn" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/052-heartbeat.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/052-heartbeat.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"> </a><a href="https://blog.csdn.net/qq_42889280" class="social flat-btn" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/051-csdn.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/051-csdn.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"> </a><a href="/atom.xml" class="social flat-btn" target="_blank" rel="external nofollow noopener noreferrer"><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/020-rss.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/icons/social/020-rss.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif"></a></div><a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target="_blank" rel="external nofollow noopener noreferrer"><img no-lazy src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/upyun.png" width="60" height="auto"></a><br><svg style="width:1.5em;height:1.5em;vertical-align:middle" class="icon" aria-hidden="true"><use xlink:href="#icon-ICP"/><symbol id="icon-ICP" viewbox="0 0 1024 1024"><path d="M90.29333333 381.12c7.57333333 4.48 13.97333333 10.77333333 21.12 16.10666667 10.13333333 7.57333333 20.37333333 14.93333333 30.29333333 22.29333333 15.25333333-33.6 29.76-65.70666667 45.01333333-99.09333333-23.57333333-4.16-47.68-8.74666667-72-12.26666667-3.2-0.42666667-8.74666667 3.94666667-10.56 7.46666667-7.36 14.18666667-13.65333333 28.8-20.26666667 43.30666666-4.16 9.17333333-3.30666667 16.42666667 6.40000001 22.18666667zM214.88 277.12c28.16-24.32 55.14666667-47.57333333 83.09333333-71.78666667-20.05333333-13.86666667-40.32-28.26666667-61.22666667-41.81333333-2.77333333-1.81333333-10.02666667-0.53333333-13.01333333 1.92-13.97333333 11.41333333-27.52 23.57333333-40.64 36.05333333-2.24 2.13333333-3.41333333 7.78666667-2.13333334 10.45333334 10.88 21.76 22.4 43.2 33.92000001 65.17333333zM347.89333332 181.22666667c30.82666667-8.96 61.65333333-18.02666667 92.58666668-26.77333334 7.89333333-2.24 6.82666667-5.86666667 3.62666666-11.30666666-10.66666667-18.24-20.58666667-36.90666667-31.99999999-54.61333334-2.34666667-3.73333333-10.13333333-7.04-14.4-6.08-16.64 3.73333333-32.96 8.96-49.17333334 14.29333334-2.98666667 0.96-6.72 5.44-6.82666666 8.32-0.53333333 24.96-0.32 50.02666667-0.32000001 75.09333333 5.01333333 0.85333333 5.86666667 1.28 6.50666666 1.06666667zM131.03999999 473.06666667c-3.09333333-0.64-4.37333333-1.28-5.43999999-0.96-20.8 5.33333333-41.6 10.56-62.18666667 16.74666666-3.09333333 0.96-6.50666667 7.04-6.61333333 10.77333334-0.32 18.45333333 0 36.90666667 1.27999999 55.25333333 0.32 3.84 5.01333333 9.6 8.64 10.56 21.01333333 5.54666667 42.45333333 9.92 64.21333333 14.82666667V473.06666667zM610.93333332 152.10666667c-1.06666667-14.72-1.38666667-29.54666667-3.84-43.94666667-5.33333333-32 2.66666667-27.2-30.82666665-32.85333333-3.94666667-0.64-7.89333333-1.38666667-11.84-2.02666667-28.16-4.26666667-28.37333333-4.26666667-39.89333335 21.33333333-7.78666667 17.28-14.61333333 34.88-21.75999999 51.94666667 36.58666667 5.22666667 71.68 10.13333333 108.26666666 15.36-0.10666667-2.98666667 0.10666667-6.50666667-0.10666667-9.81333333zM777.22666666 172.8c0.85333333-2.56-2.02666667-7.78666667-4.69333333-9.70666667-14.29333333-10.45333333-28.8-20.58666667-43.73333333-29.86666666-3.2-1.92-10.24-1.92-12.90666667 0.32-19.2 16.42666667-37.65333333 33.6-56.10666666 50.24 31.14666667 21.22666667 60.69333333 41.49333333 91.30666666 62.4 8.85333333-24.21333333 17.92-48.64 26.13333333-73.38666667zM523.67999999 886.18666667c8.64 18.56 17.28 37.86666667 26.88 56.53333333 1.6 3.09333333 8 5.97333333 11.62666667 5.44 19.09333333-3.09333333 38.18666667-6.72 56.96000001-11.52 3.84-0.96 8.32-7.46666667 8.85333333-11.94666667 1.70666667-13.44 1.81333333-27.09333333 2.34666666-40.74666666 0.21333333-6.93333333 0-13.86666667 0-20.48-36.48 7.78666667-70.72 15.04-106.66666667 22.72zM785.33333333 818.02666667c-5.97333333-14.4-11.94666667-28.8-17.81333334-42.98666667-30.50666667 23.36-59.41333333 45.54666667-89.06666666 68.26666667 17.49333333 14.61333333 33.70666667 28.69333333 50.77333333 41.81333333 2.77333333 2.13333333 10.24 1.38666667 13.76000001-0.85333333 11.73333333-7.25333333 22.82666667-15.57333333 33.81333333-23.89333334 19.30666667-14.4 19.2-14.50666667 10.24-36.58666666-0.74666667-1.70666667-0.96-3.84-1.70666667-5.76zM563.25333333 765.01333333c-60.69333333-1.92-117.22666667-19.09333333-165.22666667-56.53333333-76.48-59.73333333-104.42666667-141.44-90.77333333-235.2 11.84-81.81333333 60.8-141.12 133.97333333-176.96 58.66666667-28.8 121.81333333-34.34666667 184.21333333-10.56 48.64 18.56 75.2 56.64 55.89333334 113.6-12.26666667 36.05333333-37.97333333 61.33333333-69.01333333 81.49333333-36.48 23.78666667-75.52 40-120.21333334 36.90666667-43.52-3.09333333-63.36-35.30666667-46.71999999-75.73333333 3.2-7.78666667 7.89333333-14.93333333 11.94666665-22.29333334-22.50666667 20.8-40.85333333 44.8-46.93333333 76.05333334-5.01333333 26.34666667 9.92 53.33333333 34.34666668 62.61333333 23.36 8.96 47.57333333 12.26666667 72.31999999 9.28 80.21333333-9.70666667 149.54666667-42.66666667 207.57333334-98.98666667 64.10666667-62.18666667 62.82666667-162.34666667-4.48-218.34666666-58.66666667-48.74666667-126.72-76.37333333-203.52-78.29333334-86.82666667-2.24-166.61333333 19.73333333-235.41333333 74.88-68.26666667 54.93333333-111.46666667 125.65333333-126.50666667 212.05333334-10.56 60.58666667-4.90666667 120.32 16.96 178.45333333 27.73333333 73.70666667 72.53333333 133.33333333 139.62666667 175.25333333 93.01333333 58.13333333 192.74666667 69.22666667 296.74666666 38.72 92.8-27.2 157.12-89.92 203.62666666-172.90666666 1.49333333-2.66666667 1.92-5.97333333 2.88-8.96-14.08 9.70666667-25.49333333 21.22666667-38.29333333 30.72-63.25333333 46.72-134.82666667 67.2-213.01333333 64.74666666zM462.77333333 883.09333333c-15.46666667-1.81333333-30.93333333-4.26666667-46.08-7.68-16.21333333-3.62666667-32.10666667-8.74666667-50.45333334-13.76 0 22.82666667-0.21333333 43.84 0.32000001 64.85333334 0.10666667 2.77333333 3.73333333 7.25333333 6.61333333 8 19.30666667 5.12 38.72 9.70666667 58.23999999 13.54666666 3.2 0.64 9.06666667-1.70666667 10.66666667-4.48 9.6-16.10666667 18.24-32.64 27.20000001-49.06666666 3.84-7.14666667 2.34666667-10.34666667-6.50666667-11.41333334zM199.41333333 829.44c-1.17333333 2.66666667 0.74666667 8.42666667 3.09333334 10.45333333 15.25333333 13.01333333 31.04 25.6 46.93333333 37.86666667 2.45333333 1.92 7.78666667 3.2 9.70666667 1.81333333 18.45333333-13.22666667 36.37333333-26.98666667 54.39999999-40.53333333-29.33333333-23.78666667-56.96-46.18666667-86.61333333-70.18666667-9.28 20.16-18.77333333 40.21333333-27.52 60.58666667zM93.17333333 675.52c-2.24 2.02666667-2.98666667 8.53333333-1.60000001 11.52 8.10666667 17.17333333 16.85333333 34.13333333 26.13333334 50.77333333 1.70666667 3.09333333 7.04 6.72 10.02666667 6.18666667 22.08-3.94666667 44.05333333-8.85333333 65.17333334-13.22666667L143.73333333 632.74666667c-16.96 14.18666667-34.02666667 28.16-50.56 42.77333333z" fill="#ED4201"/><path d="M975.94666666 338.34666667c-15.46666667-35.94666667-46.61333333-52.05333333-80.42666666-62.61333334-21.22666667-6.61333333-43.30666667-9.49333333-65.60000001-10.13333333-10.98666667-0.32-21.97333333-0.21333333-33.06666666 0.32-9.81333333 0.42666667-19.84 1.49333333-29.76 3.94666667 5.33333333 1.28 42.98666667 11.73333333 59.41333334 20.26666666 1.17333333 0.64 2.24 1.17333333 3.41333332 1.81333334 21.65333333 12.26666667 34.98666667 30.82666667 35.84000001 57.28 1.06666667 33.92-13.97333333 61.76-33.81333334 87.46666666-0.64 0.85333333-1.38666667 1.70666667-2.02666667 2.45333334-19.73333333 24.96-43.2 45.97333333-68.90666666 64.74666666-49.38666667 35.94666667-103.68 61.76-162.34666667 77.22666667-44.48 11.73333333-89.81333333 15.14666667-135.57333334 5.33333333-48.32-10.34666667-81.6-52.69333333-61.97333332-104.53333333 3.30666667-8.74666667 6.61333333-17.6 9.92-26.34666667-16.32 20.90666667-28.58666667 42.88-31.57333333 69.86666667-3.84 35.73333333 11.09333333 62.50666667 38.18666666 82.45333333 33.81333333 24.96 74.34666667 31.14666667 114.88 32.53333334 26.24 0.85333333 52.8-3.62666667 79.04-6.29333334 45.65333333-4.69333333 89.06666667-18.13333333 131.2-35.30666666 30.08-12.26666667 59.41333333-26.13333333 87.14666666-42.66666667 17.70666667-10.56 34.66666667-22.18666667 50.88-35.30666667 36.26666667-29.54666667 70.72-61.01333333 89.70666668-105.17333333 10.77333333-24.96 17.06666667-50.34666667 5.43999999-77.33333333z" fill="#035DB6"/></symbol></svg> <a href="https://beian.miit.gov.cn" target="_blank" style="vertical-align:-1px" rel="external nofollow noopener noreferrer">äº¬ICPå¤‡2020040230å·</a><br><div id="footer-content" style="margin-top:10px"><span>Copyright</span> <i class="far fa-copyright"></i> <span>2019-2020</span> <a href="/" target="_blank">XU'S BLOG </a>ä¸¨ <span id="timeDate">è½½å…¥å¤©æ•°...</span><span id="times">è½½å…¥æ—¶åˆ†ç§’...</span></div><script>var now=new Date;function createtime(){var n=new Date("10/09/2019 00:00:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="ç½‘ç«™å·²è¿è¡Œ "+dnum+" å¤© ",document.getElementById("times").innerHTML=hnum+" å°æ—¶ "+mnum+" åˆ† "+snum+" ç§’"}setInterval("createtime()",250)</script><br><div class="github-badge"><a style="color:#fff" rel="external nofollow noopener noreferrer" href="https://hexo.io/" target="_blank" title="ç”± Hexo å¼ºåŠ›é©±åŠ¨"><span class="badge-subject">Powered</span><span class="badge-value bg-blue">Hexo</span></a></div><div class="github-badge"><a style="color:#fff" rel="external nofollow noopener noreferrer" href="https://github.com/" target="_blank" title="é™æ€ç½‘é¡µæ‰˜ç®¡äº GitHub Pages å’Œ Coding Pages"><span class="badge-subject">Hosted</span><span class="badge-value bg-brightgreen">GitHub &amp; Coding</span></a></div><div class="github-badge"><a style="color:#fff" rel="external nofollow noopener noreferrer" href="https://www.aliyun.com/" target="_blank" title="é˜¿é‡Œäº‘æä¾›åŸŸåç›¸å…³æœåŠ¡"><span class="badge-subject">DNS</span><span class="badge-value bg-blueviolet">Aliyun</span></a></div><div class="github-badge"><a style="color:#fff" rel="external nofollow noopener noreferrer" href="https://www.jsdelivr.com/" target="_blank" title="jsDelivr æä¾› CDN åŠ é€ŸæœåŠ¡"><span class="badge-subject">CDN</span><span class="badge-value bg-orange">jsDelivr</span></a></div><div class="github-badge"><a style="color:#fff" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis/" target="_blank" title="ç«™ç‚¹ä½¿ç”¨ Volantis ä¸»é¢˜"><span class="badge-subject">Theme</span><span class="badge-value bg-blue">Volantis</span></a></div><div class="github-badge"><a style="color:#fff" rel="external nofollow noopener noreferrer" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="æœ¬ç«™ç‚¹é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯"><span class="badge-subject"><i class="fa fa-copyright"></i></span><span class="badge-value bg-gradient">BY-NC-SA 4.0</span></a></div><div class="github-badge"><span class="badge-subject">WordCount</span><span class="badge-value bg-blueviolet">85.7k</span></div></footer><div id="bottom-left-btn"><a href="javascript:void(0);" onclick="showPanel()" title="èµ›é’±ç®±"><svg style="width:1.5em;height:1.5em" class="icon" aria-hidden="true"><use xlink:href="#icon-panel"/><svg id="icon-panel" viewbox="0 0 1234 1024"><path d="M736.914286 393.472c-20.114286-46.628571-47.542857-88.685714-84.114286-121.6-34.742857-34.742857-74.971429-62.171429-123.428571-82.285714-46.628571-20.114286-95.085714-30.171429-149.028572-29.257143-53.942857 0-102.4 11.885714-149.028571 32-46.628571 20.114286-86.857143 49.371429-121.6 84.114286-34.742857 34.742857-60.342857 76.8-81.371429 124.342857-20.114286 47.542857-28.342857 96.914286-28.342857 151.771428 1.828571 50.285714 11.885714 98.742857 29.257143 141.714286 19.2 42.971429 42.057143 82.285714 72.228571 116.114286 8.228571 10.057143 14.628571 21.942857 17.371429 34.742857 1.828571 11.885714-2.742857 21.942857-14.628572 27.428571-21.942857 11.885714-49.371429 20.114286-79.542857 25.6-5.485714 1.828571 5.485714 5.485714 34.742857 15.542857 29.257143 10.057143 74.057143 17.371429 134.4 22.857143 27.428571 2.742857 52.114286 4.571429 74.057143 5.485715h59.428572c17.371429 0 32.914286-1.828571 47.542857-2.742858 14.628571-1.828571 27.428571-2.742857 40.228571-4.571428 49.371429-5.485714 95.085714-19.2 137.142857-42.057143 42.971429-21.942857 79.542857-50.285714 111.542858-85.028571 32-34.742857 56.685714-74.057143 74.057142-118.857143 17.371429-44.8 25.6-92.342857 25.6-143.542857 4.571429-53.028571-6.4-104.228571-26.514285-151.771429" fill="#E6E6E6"/><path d="M736.914286 393.472c-20.114286-46.628571-47.542857-88.685714-84.114286-121.6-34.742857-34.742857-74.971429-62.171429-123.428571-82.285714-46.628571-20.114286-95.085714-30.171429-149.028572-29.257143-53.942857 0-102.4 11.885714-149.028571 32-46.628571 20.114286-86.857143 49.371429-121.6 84.114286-34.742857 34.742857-60.342857 76.8-81.371429 124.342857-20.114286 47.542857-28.342857 96.914286-28.342857 151.771428 1.828571 50.285714 11.885714 98.742857 29.257143 141.714286 19.2 42.971429 42.057143 82.285714 72.228571 116.114286 8.228571 10.057143 14.628571 21.942857 17.371429 34.742857 1.828571 11.885714-2.742857 21.942857-14.628572 27.428571-21.942857 11.885714-49.371429 20.114286-79.542857 25.6-5.485714 1.828571 5.485714 5.485714 34.742857 15.542857 29.257143 10.057143 74.057143 17.371429 134.4 22.857143 27.428571 2.742857 52.114286 4.571429 74.057143 5.485715h59.428572c17.371429 0 32.914286-1.828571 47.542857-2.742858 14.628571-1.828571 27.428571-2.742857 40.228571-4.571428 49.371429-5.485714 95.085714-19.2 137.142857-42.057143 42.971429-21.942857 79.542857-50.285714 111.542858-85.028571 32-34.742857 56.685714-74.057143 74.057142-118.857143 17.371429-44.8 25.6-92.342857 25.6-143.542857 4.571429-53.028571-6.4-104.228571-26.514285-151.771429" fill="#22E5B1"/><path d="M1101.714286 933.814857c-14.628571-8.228571-20.114286-20.114286-19.2-34.742857 2.742857-15.542857 10.057143-29.257143 21.942857-42.971429 37.485714-42.057143 67.657143-89.6 91.428571-144.457142 22.857143-56.685714 36.571429-116.114286 37.485715-179.2 1.828571-67.657143-11.885714-131.657143-36.571429-191.085715s-59.428571-111.542857-102.4-156.342857c-42.971429-44.8-94.171429-79.542857-153.6-106.057143-58.514286-26.514286-120.685714-39.314286-187.428571-41.142857-66.742857-1.828571-129.828571 11.885714-188.342858 36.571429-59.428571 24.685714-109.714286 59.428571-154.514285 102.4-44.8 43.885714-79.542857 94.171429-106.057143 153.6-25.6 59.428571-39.314286 123.428571-39.314286 189.257143-1.828571 64 10.057143 124.342857 32 181.028571 21.942857 56.685714 53.942857 106.971429 94.171429 150.857143 40.228571 42.971429 86.857143 79.542857 140.8 106.971428 53.942857 29.257143 112.457143 46.628571 175.542857 52.114286 15.542857 2.742857 32.914286 4.571429 52.114286 5.485714 19.2 1.828571 39.314286 2.742857 60.342857 2.742858 21.942857 1.828571 47.542857 1.828571 74.971428 0 27.428571-1.828571 57.6-2.742857 92.342857-7.314286 76.8-7.314286 133.485714-17.371429 170.971429-29.257143 37.485714-11.885714 52.114286-19.2 44.8-20.114286-39.314286-3.657143-72.228571-13.714286-101.485714-28.342857" fill="#E6E6E6"/><path d="M1056 897.243429c-14.628571-8.228571-20.114286-20.114286-19.2-34.742858 2.742857-15.542857 10.057143-29.257143 21.942857-42.971428 37.485714-42.057143 67.657143-89.6 91.428572-144.457143 22.857143-56.685714 36.571429-116.114286 37.485714-179.2 1.828571-67.657143-11.885714-131.657143-36.571429-191.085714-24.685714-59.428571-59.428571-111.542857-102.4-156.342857-42.971429-45.714286-93.257143-80.457143-152.685714-106.971429-59.428571-25.6-121.6-38.4-188.342857-40.228571-66.742857-1.828571-129.828571 11.885714-188.342857 36.571428-59.428571 24.685714-109.714286 59.428571-154.514286 102.4-44.8 43.885714-79.542857 94.171429-106.057143 153.6-25.6 59.428571-39.314286 123.428571-39.314286 189.257143-1.828571 64 10.057143 124.342857 32 181.028571 21.942857 56.685714 53.942857 106.971429 94.171429 150.857143 40.228571 42.971429 86.857143 79.542857 140.8 106.971429 53.942857 29.257143 112.457143 46.628571 175.542857 52.114286 15.542857 2.742857 32.914286 4.571429 52.114286 5.485714 19.2 1.828571 39.314286 2.742857 60.342857 2.742857 21.942857 1.828571 47.542857 1.828571 74.971429 0 27.428571-1.828571 57.6-2.742857 92.342857-7.314286 76.8-7.314286 133.485714-17.371429 170.971428-29.257143 37.485714-11.885714 52.114286-19.2 44.8-20.114285-39.314286-3.657143-72.228571-13.714286-101.485714-28.342857" fill="#16D7A3"/><path d="M896.914286 429.714286H739.657143L768 223.085714c1.828571-5.485714-2.742857-11.885714-8.228571-14.628571-5.485714-4.571429-12.8-4.571429-17.371429 0L499.2 496.457143c-1.828571 1.828571-2.742857 4.571429-4.571429 5.485714-0.914286 1.828571-0.914286 4.571429-0.914285 7.314286 0 8.228571 7.314286 15.542857 15.542857 15.542857h159.085714l-30.171428 233.142857v2.742857c-1.828571 5.485714 0 11.885714 4.571428 15.542857 5.485714 5.485714 15.542857 5.485714 21.942857 0l244.114286-320.914285c2.742857-2.742857 4.571429-7.314286 4.571429-11.885715 0-6.4-7.314286-13.714286-16.457143-13.714285" fill="#FFFFFF"/></svg></svg> </a><a href="/comments" title="ç•™è¨€"><svg style="width:1.5em;height:1.5em" aria-hidden="true"><use xlink:href="#icon-comments"/><svg t="1603262994585" class="icon" id="icon-comments" viewbox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1302"><path d="M510.139764 510.148298m-510.131231 0a510.131231 510.131231 0 1 0 1020.262462 0 510.131231 510.131231 0 1 0-1020.262462 0Z" fill="#3192F2" p-id="1303"/><path d="M281.9793 575.393077c16.639723-12.356061 52.22313 0.204797 52.22313 0.204796l26.111565 8.82332a22.322828 22.322828 0 0 0 26.060365-8.618523l70.381761-76.269662a17.066382 17.066382 0 0 0-2.986617-25.701972l-146.463692-99.053282a22.305762 22.305762 0 0 1-0.136531-34.900752l8.652655-8.703855c43.655806-25.667839 104.343861 0.42666 104.343861 0.42666l113.269579 61.55844c11.553941 6.314561 26.043299-8.618523 26.043299-8.618523l137.04305-119.652405c20.155397-15.18908 46.693622-8.959851 60.073665 4.300728 13.380044 13.243513 15.871735 33.535441 2.679422 55.158547l-121.171314 139.125148s-13.82377 15.922935-8.58439 26.145698l61.319511 113.696238s26.111565 60.824586 0.42666 104.719321l-8.652656 8.703855c-9.676639 8.328395-23.910001 8.516125-33.791437 0.42666l-94.616023-144.535191a17.066382 17.066382 0 0 0-25.428909-3.58394l-77.481376 66.780753c-7.492142 6.434026-14.506425 17.885569-12.287795 27.511008l8.806253 26.23103s12.526725 35.634606 0.204797 52.342594a23.654006 23.654006 0 0 1-38.570024-7.560407c-12.97045-31.026683-27.152614-54.697755-42.580623-70.99615-15.957067-16.895718-41.761437-33.091715-77.378977-48.58799a24.268396 24.268396 0 0 1-7.509209-39.372144z" fill="#FFFFFF" p-id="1304"/></svg></svg> </a><a href="javascript:void(0);" onclick="scrollToComments()" title="è·³è½¬è‡³è¯„è®ºåŒº"><svg style="width:1.5em;height:1.5em" aria-hidden="true"><use xlink:href="#icon-ketangtaolun"/><svg t="1592151989892" id="icon-ketangtaolun" viewbox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="36645"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#FF5A20" p-id="36646"/><path d="M238.481236 628.415011V378.631347c1.130243-2.260486 2.260486-3.390728 2.260486-5.651215 12.432671-42.949227 48.600442-72.335541 93.810154-72.33554 122.066225-1.130243 244.13245-1.130243 366.198676 0 45.209713 0 81.377483 28.256071 93.810154 72.33554 1.130243 2.260486 2.260486 4.520971 2.260486 5.651215v252.04415l-3.390728 10.172185c-13.562914 41.818985-47.470199 67.81457-91.549669 67.81457h-66.684327c-102.852097-1.130243-202.313466 19.214128-297.253863 57.642384-4.520971 2.260486-10.172185 3.390728-15.8234 5.651214v-64.423841c-14.693157-6.781457-28.256071-11.302428-39.558499-18.083885-24.865342-11.302428-36.16777-35.037528-44.07947-61.033113z m291.602649-81.377483c20.344371 0 36.16777-16.953642 36.167771-37.298014 0-19.214128-15.8234-32.777042-39.558499-32.777042-19.214128 0-33.907285 14.693157-33.907285 33.907285 1.130243 20.344371 18.083885 37.298013 37.298013 36.167771z m-126.587196 0c18.083885 0 33.907285-15.8234 32.777042-35.037528 0-20.344371-16.953642-36.16777-37.298014-35.037528-18.083885 0-32.777042 16.953642-32.777042 37.298014 2.260486 18.083885 18.083885 32.777042 37.298014 32.777042z m285.951435-33.907285c0-20.344371-15.8234-36.16777-37.298014-35.037528-18.083885 0-32.777042 16.953642-32.777042 36.167771 0 18.083885 16.953642 32.777042 36.167771 32.777042 18.083885 0 33.907285-15.8234 33.907285-33.907285z" fill="#FFFFFF" p-id="36647"/></svg></svg> </a><a href="javascript:void(0);" onclick="switchNightMode()" class="toggle-mode-btn" title="æ·±è‰²æ¨¡å¼åˆ‡æ¢"><svg style="width:1.5em;height:1.5em" class="icon" aria-hidden="true"><use id="mode-icon" xlink:href="#icon-moon"/></svg> </a><svg aria-hidden="true" style="position:absolute;width:0;height:0;overflow:hidden"><symbol id="icon-sun" viewbox="0 0 1024 1024"><path d="M511.99976 511.99976m-511.99976 0a511.99976 511.99976 0 1 0 1023.99952 0 511.99976 511.99976 0 1 0-1023.99952 0Z" fill="#91D2F2"/><path d="M144.623932 868.455593C237.679889 964.327548 367.831828 1023.99952 511.99976 1023.99952c269.983873 0 490.99977-209.007902 510.455761-474.031778C956.991551 535.703749 887.559584 527.999753 815.623618 527.999753c-309.535855 0-572.895731 142.055933-670.999686 340.45584z" fill="#198058"/><path d="M979.623541 575.99973c-351.319835 0-647.791696 155.655927-741.279653 368.639827A509.359761 509.359761 0 0 0 511.99976 1023.99952c260.839878 0 475.967777-195.111909 507.799762-447.31979a1194.34344 1194.34344 0 0 0-40.175981-0.68z" fill="#1E9969"/><path d="M69.711967 769.831639C158.503926 921.815568 323.271848 1023.99952 511.99976 1023.99952a509.455761 509.455761 0 0 0 269.631874-76.783964C657.111692 828.375612 464.271782 751.999648 247.623884 751.999648c-61.575971 0-121.183943 6.271997-177.911917 17.831991z" fill="#6AA33A"/><path d="M487.887771 1023.39152c-86.543959-122.151943-236.911889-214.679899-417.591804-252.543881 85.11996 144.919932 239.415888 244.279885 417.591804 252.543881z" fill="#95E652"/><path d="M394.159815 167.999921l-45.255979 45.255979L303.647858 167.999921l45.255978-45.255979zM394.159815 503.999764l-45.255979 45.255979L303.655858 503.999764l45.247978-45.247979z" fill="#FFF8E6"/><path d="M180.879915 290.719864l45.247979 45.247979-45.255979 45.255978-45.255979-45.255978zM516.903758 290.719864l45.247978 45.247979-45.247978 45.247978-45.247979-45.247978z" fill="#FFF8E6"/><path d="M198.087907 185.207913h63.99997v63.99997h-63.99997zM435.671796 422.791802h63.99997v63.99997h-63.99997z" fill="#FFF8E6"/><path d="M198.087907 422.791802h63.99997v63.99997h-63.99997zM435.671796 185.207913h63.99997v63.99997h-63.99997z" fill="#FFF8E6"/><path d="M348.879836 335.999843m-183.999913 0a183.999914 183.999914 0 1 0 367.999827 0 183.999914 183.999914 0 1 0-367.999827 0Z" fill="#FFEAB3"/><path d="M348.879836 335.999843m-159.999925 0a159.999925 159.999925 0 1 0 319.99985 0 159.999925 159.999925 0 1 0-319.99985 0Z" fill="#FFDC80"/></symbol><symbol id="icon-sun-big" viewbox="0 0 1024 1024"><path d="M512 170.682c-11.782 0-21.312-9.562-21.312-21.342V21.344C490.688 9.562 500.22 0.016 512 0.016c11.812 0 21.344 9.546 21.344 21.328V149.34c0 11.78-9.532 21.342-21.344 21.342zM512 1023.984s0.032 0 0 0c-11.75 0-21.312-9.562-21.312-21.312v-127.994c0-11.812 9.562-21.376 21.344-21.376 11.782 0 21.312 9.562 21.312 21.376v127.994c0 11.75-9.532 21.312-21.344 21.312z" fill="#F6BB42"/><path d="M270.664 270.648c-8.344 8.328-21.844 8.328-30.156 0L149.98 180.136c-8.312-8.328-8.312-21.828 0-30.156a21.332 21.332 0 0 1 30.188 0l90.496 90.496c8.344 8.328 8.344 21.844 0 30.172zM874.052 874.022a21.332 21.332 0 0 1-30.188 0l-90.498-90.5c-8.344-8.344-8.344-21.842 0-30.154a21.332 21.332 0 0 1 30.188 0l90.498 90.498c8.312 8.312 8.312 21.812 0 30.156z" fill="#FFCE54"/><path d="M170.7 512c0 11.782-9.562 21.328-21.344 21.328H21.36C9.578 533.328 0.048 523.782 0.016 512c0-11.782 9.562-21.328 21.344-21.328h127.996c11.78 0 21.344 9.546 21.344 21.328zM1023.984 512c0 11.782-9.532 21.328-21.312 21.328h-127.994c-11.782 0-21.344-9.546-21.344-21.328s9.562-21.328 21.344-21.328h127.994c11.782 0 21.312 9.546 21.312 21.328z" fill="#F6BB42"/><path d="M270.664 753.368c8.344 8.312 8.344 21.81 0 30.154l-90.496 90.5a21.332 21.332 0 0 1-30.188 0c-8.312-8.344-8.312-21.844 0-30.156l90.528-90.498c8.312-8.344 21.812-8.344 30.156 0zM874.052 149.964c0 0.016 0 0 0 0 8.31 8.342 8.31 21.842 0 30.17l-90.53 90.512c-8.312 8.328-21.812 8.328-30.156 0-8.344-8.328-8.344-21.844 0-30.172l90.498-90.512c8.344-8.326 21.844-8.326 30.188 0.002z" fill="#FFCE54"/><path d="M512 789.302c-152.9 0-277.302-124.372-277.302-277.302 0-152.916 124.402-277.32 277.302-277.32 152.934 0 277.336 124.404 277.336 277.32 0 152.932-124.402 277.302-277.336 277.302z" fill="#FFCE54"/><path d="M512 213.338c-164.932 0-298.646 133.714-298.646 298.662 0 164.932 133.714 298.678 298.646 298.678 164.964 0 298.68-133.746 298.68-298.678 0-164.948-133.716-298.662-298.68-298.662z m181.026 479.656c-48.342 48.374-112.622 74.996-181.026 74.996-68.374 0-132.652-26.624-180.994-74.996-48.342-48.31-74.998-112.622-74.998-180.994s26.656-132.668 74.998-181.01c48.342-48.356 112.622-74.982 180.994-74.982 68.404 0 132.684 26.626 181.026 74.982 48.342 48.342 74.966 112.638 74.966 181.01 0 68.374-26.624 132.684-74.966 180.994z" fill="#F6BB42"/></symbol><symbol id="icon-moon" viewbox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#323232"/><path d="M512 512m-407.005867 0a407.005867 407.005867 0 1 0 814.011734 0 407.005867 407.005867 0 1 0-814.011734 0Z" fill="#494A4A"/><path d="M748.1344 633.9584c0-1.143467 0.085333-2.286933 0.085333-3.413333a69.512533 69.512533 0 0 0-8.823466-33.979734q-1.058133-1.911467-2.2528-3.7376l-0.187734-0.3072a70.485333 70.485333 0 0 0-5.2736-7.099733l-0.238933-0.273067q-1.3312-1.536-2.730667-3.003733l-0.3072-0.324267a70.894933 70.894933 0 0 0-6.417066-5.819733l-0.5632-0.443733q-1.467733-1.160533-3.003734-2.235734l-0.494933-0.341333q-1.706667-1.2288-3.6352-2.3552l-0.256-0.136533q-1.706667-0.989867-3.413333-1.8944l-0.887467-0.4608q-1.604267-0.802133-3.242667-1.536l-0.6144-0.273067q-1.928533-0.836267-3.9424-1.553067l-0.8192-0.273066a54.8864 54.8864 0 0 0-3.242666-1.024l-1.143467-0.324267a85.248 85.248 0 0 0-3.601067-0.887467l-0.546133-0.119466a67.345067 67.345067 0 0 0-4.1984-0.733867l-1.143467-0.136533q-1.706667-0.2048-3.2768-0.341334l-1.245866-0.1024a74.786133 74.786133 0 0 0-4.386134-0.1536 69.8368 69.8368 0 0 0-20.48 3.037867 104.106667 104.106667 0 0 0-12.1344-11.076267 258.696533 258.696533 0 0 0-449.9456-248.763733 183.1424 183.1424 0 0 1 106.939734-34.2528c5.12 0 10.24 0.221867 15.36 0.631467a183.125333 183.125333 0 0 1 50.5344 11.52h0.170666q3.874133 1.501867 7.68 3.157333l0.256 0.1024 7.441067 3.413333 0.273067 0.136534q3.669333 1.826133 7.253333 3.805866l0.221867 0.119467q3.618133 2.013867 7.133866 4.164267a184.610133 184.610133 0 0 1 26.760534 20.036266h0.085333q2.986667 2.696533 5.870933 5.5296l0.324267 0.3072q2.781867 2.7648 5.461333 5.632l0.443734 0.477867q2.6112 2.833067 5.12 5.768533l0.494933 0.580267q2.4576 2.9184 4.795733 5.956267l0.494934 0.648533q2.321067 3.037867 4.522666 6.178133l0.426667 0.6144q2.2016 3.1744 4.283733 6.4512l0.324267 0.529067q2.116267 3.413333 4.078933 6.826667l0.170667 0.3072c1.553067 2.7136 3.0208 5.495467 4.437333 8.2944a56.149333 56.149333 0 0 0-12.578133 2.304 82.824533 82.824533 0 0 0-134.007467 18.039466 42.530133 42.530133 0 0 0-53.009066 41.079467 104.277333 104.277333 0 0 0-42.2912 80.110933 13.653333 13.653333 0 0 0 0 1.4336v0.426667c0 0.136533 0.1024 0.682667 0.187733 1.024s0 0.3072 0.1024 0.4608 0.2048 0.733867 0.324267 1.092267l0.1024 0.3072a15.36 15.36 0 0 0 0.580266 1.416533l0.1024 0.187733a16.520533 16.520533 0 0 0 0.648534 1.211734l0.221866 0.3584c0.221867 0.3584 0.4608 0.733867 0.7168 1.092266l0.221867 0.3072a26.333867 26.333867 0 0 0 2.338133 2.798934l0.119467 0.119466q0.6144 0.631467 1.297067 1.262934l0.2048 0.187733q0.7168 0.648533 1.501866 1.297067 1.706667 1.416533 3.720534 2.781866c0.6656 0.4608 1.348267 0.904533 2.065066 1.348267 26.914133 16.7936 87.995733 28.535467 159.044267 28.535467 19.3536 0 37.956267-0.8704 55.3472-2.474667l-0.494933 0.750933-0.426667 0.6144q-2.2016 3.140267-4.539733 6.178134l-0.477867 0.631466q-2.338133 3.037867-4.795733 5.956267l-0.494934 0.580267q-2.491733 2.935467-5.12 5.7856l-0.443733 0.477866q-2.679467 2.884267-5.461333 5.649067l-0.3072 0.290133q-2.884267 2.833067-5.870934 5.546667a184.8832 184.8832 0 0 1-26.7776 20.036267q-3.515733 2.167467-7.150933 4.181333l-0.187733 0.1024q-3.584 1.979733-7.2704 3.805867l-0.256 0.136533q-3.6864 1.826133-7.458134 3.413333l-0.238933 0.1024q-3.805867 1.706667-7.68 3.157334h-0.136533a183.057067 183.057067 0 0 1-50.551467 11.52c-5.12 0.4096-10.24 0.631467-15.36 0.631466a183.159467 183.159467 0 0 1-106.939733-34.2528 258.5088 258.5088 0 0 0 180.138666 107.093334 109.550933 109.550933 0 0 0-3.259733 26.453333 16.520533 16.520533 0 0 0 0.1024 1.706667v0.529066c0 0.170667 0.136533 0.853333 0.221867 1.262934l0.136533 0.5632 0.392533 1.365333 0.136534 0.4096a13.892267 13.892267 0 0 0 0.733866 1.706667l0.119467 0.238933c0.238933 0.512 0.512 1.006933 0.802133 1.501867l0.273067 0.443733q0.4096 0.682667 0.887467 1.365333l0.273066 0.375467a33.0752 33.0752 0 0 0 2.9184 3.413333l0.1536 0.1536 1.5872 1.553067 0.273067 0.256 1.8432 1.621333q2.116267 1.706667 4.625067 3.413334l2.56 1.706666c33.467733 20.8896 109.431467 35.4816 197.802666 35.4816 119.330133 0 216.046933-26.606933 216.046934-59.409066a131.413333 131.413333 0 0 0-56.285867-102.058667z" fill="#323232"/><path d="M573.8496 401.8176v-2.781867a56.200533 56.200533 0 0 0-72.6016-53.725866 82.824533 82.824533 0 0 0-134.007467 18.039466 42.530133 42.530133 0 0 0-53.009066 41.079467 104.277333 104.277333 0 0 0-42.257067 80.0768c0 26.385067 77.7728 47.786667 173.7216 47.786667s173.7216-21.384533 173.7216-47.786667a105.659733 105.659733 0 0 0-45.568-82.688z" fill="#CDCCCA"/><path d="M293.768533 506.2656a104.277333 104.277333 0 0 1 42.2912-80.110933 42.530133 42.530133 0 0 1 53.009067-41.079467 82.807467 82.807467 0 0 1 134.007467-18.039467 56.32 56.32 0 0 1 43.758933 4.642134 56.2176 56.2176 0 0 0-65.518933-26.4192 82.824533 82.824533 0 0 0-134.007467 18.039466 42.530133 42.530133 0 0 0-53.009067 41.079467 104.277333 104.277333 0 0 0-42.325333 80.128c0 8.413867 7.936 16.3328 21.845333 23.210667a13.294933 13.294933 0 0 1-0.0512-1.450667z" fill="#E8E9EC"/><path d="M453.4784 166.912a258.338133 258.338133 0 0 0-210.944 108.919467 183.995733 183.995733 0 1 1 0 299.451733 258.6624 258.6624 0 1 0 210.944-408.388267z" fill="#DDAE2A"/><path d="M364.834133 608.9216q7.594667 0.631467 15.36 0.648533a183.995733 183.995733 0 0 0 0-367.9744q-7.748267 0-15.36 0.631467a183.995733 183.995733 0 0 1 0 366.6944z" fill="#EDC849"/><path d="M794.7776 605.969067c0-1.143467 0.085333-2.286933 0.085333-3.413334a69.973333 69.973333 0 0 0-90.299733-66.833066 102.997333 102.997333 0 0 0-166.656 22.4256 52.906667 52.906667 0 0 0-65.928533 51.0976 129.706667 129.706667 0 0 0-52.599467 99.6352c0 32.8192 96.733867 59.409067 216.046933 59.409066s216.046933-26.606933 216.046934-59.409066a131.413333 131.413333 0 0 0-56.695467-102.912z" fill="#CDCCCA"/><path d="M446.481067 735.914667a129.706667 129.706667 0 0 1 52.599466-99.6352 52.906667 52.906667 0 0 1 65.928534-51.080534 102.997333 102.997333 0 0 1 166.6048-22.442666 69.973333 69.973333 0 0 1 54.408533 5.7856 69.973333 69.973333 0 0 0-81.476267-32.853334 102.997333 102.997333 0 0 0-166.656 22.4256 52.906667 52.906667 0 0 0-65.928533 51.0976 129.706667 129.706667 0 0 0-52.599467 99.6352c0 10.478933 9.864533 20.309333 27.170134 28.859734a17.408 17.408 0 0 1-0.0512-1.792z" fill="#E8E9EC"/></symbol><symbol id="icon-moon-big" viewbox="0 0 1024 1024"><path d="M1002.656 383.75h-21.312v-42.188c0-11.812-9.562-21.344-21.344-21.344s-21.344 9.532-21.344 21.344v42.188h-21.312c-11.782 0-21.344 9.562-21.344 21.376 0 11.75 9.562 21.312 21.344 21.312h21.312v42.688c0 11.75 9.562 21.312 21.344 21.312s21.344-9.562 21.344-21.312v-42.688h21.312c11.782 0 21.344-9.562 21.344-21.312 0-11.814-9.562-21.376-21.344-21.376zM704 554.218h-21.344V512c0-11.782-9.532-21.344-21.312-21.344S640 500.218 640 512v42.218h-21.344c-11.782 0-21.312 9.532-21.312 21.344 0 11.75 9.532 21.312 21.312 21.312H640v42.688c0 11.75 9.562 21.312 21.344 21.312s21.312-9.562 21.312-21.312v-42.688H704c11.782 0 21.344-9.562 21.344-21.312 0-11.812-9.562-21.344-21.344-21.344z" fill="#F6BB42"/><path d="M336.156 687.844c-129.468-129.468-158.312-321.468-86.562-478.782-45.156 20.562-87.468 49.438-124.624 86.562-166.624 166.624-166.624 436.782 0 603.406s436.782 166.624 603.406 0c37.156-37.156 66-79.468 86.562-124.594-157.344 71.72-349.314 42.876-478.782-86.592z" fill="#FFCE54"/><path d="M1004.406 152.062c-2.906-0.218-72.468-5.75-161.562 4.688-52.562 6.188-101 16.688-144 31.188-54.594 18.468-100.594 43.532-136.718 74.562l27.782 32.376c72.844-62.5 180-86.5 257.094-95.624 84.75-10.032 152.812-4.75 153.938-4.688 0.562 0.062 1.156 0.094 1.718 0.094 11.782 0 21.344-9.532 21.344-21.344-0.002-11.19-8.626-20.346-19.596-21.252z" fill="#DA4453"/><path d="M428.812 533.75c0 11.812-9.562 21.376-21.344 21.376s-21.312-9.562-21.312-21.376c0-11.75 9.532-21.312 21.312-21.312s21.344 9.562 21.344 21.312z" fill="#ED5565"/><path d="M810.656 21.312c0 11.812-9.532 21.344-21.312 21.344S768 33.124 768 21.312C768 9.562 777.562 0 789.344 0s21.312 9.562 21.312 21.312z" fill="#FC6E51"/><path d="M1024 618.876c0 11.782-9.562 21.344-21.344 21.344s-21.312-9.562-21.312-21.344 9.532-21.312 21.312-21.312S1024 607.094 1024 618.876z" fill="#AC92EC"/><path d="M640 278.688c0 35.312-28.656 64-64 64s-64-28.688-64-64c0-35.376 28.656-64 64-64s64 28.624 64 64z" fill="#ED5565"/><path d="M398.656 128h-21.312V85.75c0-11.75-9.562-21.312-21.344-21.312S334.656 74 334.656 85.75V128h-21.312C301.562 128 292 137.562 292 149.312c0 11.812 9.562 21.344 21.344 21.344h21.312v42.656c0 11.812 9.562 21.344 21.344 21.344s21.344-9.532 21.344-21.344V170.656h21.312c11.782 0 21.344-9.532 21.344-21.344C420 137.562 410.438 128 398.656 128z" fill="#F6BB42"/></symbol></svg> <a href="javascript:void(0);" onclick="aplayerToggle()" id="music-control-button" title="æ’­æ”¾éŸ³ä¹"><svg style="width:1.5em;height:1.5em" class="icon" aria-hidden="true"><use id="mode-icon" xlink:href="#icon-icon-music"/><svg id="icon-icon-music" viewbox="0 0 1024 1024"><path d="M997.45185173 512A485.45185173 485.45185173 0 1 1 26.54814827 512a485.45185173 485.45185173 0 0 1 970.90370346 0" fill="#9025FC"/><path d="M478.56450347 602.59745173S403.9869632 545.19277013 369.03442987 537.78962987c-82.1020448-17.41558507-136.47265173 35.8020736-133.37789654 106.192592 4.36906667 100.42785173 127.37042987 123.85090347 194.66619307 111.3505184 67.3564448-12.37902187 101.09534827-57.04059307 108.86257707-111.83597014 7.76722987-54.79537813 46.84610347-263.9037632 46.84610346-263.9037632s66.26417813 61.28829653 85.2574816 82.3447712c26.4571264 29.3698368-0.1820448 79.85682987-0.18204373 79.8568288s72.39300693-12.07561493 90.23336213-104.97896213c12.31834027-64.1403264-23.36237013-76.64071147-65.71804373-110.37961493-82.76954027-65.7787264-121.2416-90.2940448-145.63555627-95.45197014-24.27259307-5.0972448-45.02565973 4.42974827-45.8145184 81.4952288-0.84954027 77.0654816-25.60758507 290.1181632-25.60758506 290.1181632" fill="#FFFFFF"/></svg></svg></a></div><script>function switchNightMode(){$('<div class="custom-dark-sky"><div class="custom-dark-planet"><svg class="icon yueliang" aria-hidden="true"><use xlink:href="#icon-moon-big"></use></svg><svg class="icon taiyang" aria-hidden="true"><use xlink:href="#icon-sun-big"></use></svg></div></div>').appendTo($("body")),0<$(".dark-mode").length?($(".yueliang").css("display","block"),$(".taiyang").css("display","none")):($(".taiyang").css("display","block"),$(".yueliang").css("display","none")),setTimeout(function(){"dark"===(localStorage.getItem("user-color-scheme")||"light")?(setTimeout("$('html').addClass('dark-mode'),$('.taiyang').css('display','none'),$('.yueliang').css('display','block')",900),console.log("å¤œé—´æ¨¡å¼å¼€å¯"),$("#mode-icon").attr("xlink:href","#icon-sun")):(setTimeout("$('html').removeClass('dark-mode'),$('.yueliang').css('display','none'),$('.taiyang').css('display','block')",900),console.log("å¤œé—´æ¨¡å¼å…³é—­"),$("#mode-icon").attr("xlink:href","#icon-moon")),setTimeout(function(){$(".custom-dark-sky").fadeOut(1e3,function(){$(this).remove()})},2e3)})}function checkNightMode(){"dark"===(localStorage.getItem("user-color-scheme")||"light")?($("html").addClass("dark-mode"),$("#mode-icon").attr("xlink:href","#icon-sun")):($("html").removeClass("dark-mode"),$("#mode-icon").attr("xlink:href","#icon-moon"))}function scrollToComments(){var e=80;volantis.$header[0]&&(e=volantis.$header[0].clientHeight+16),scrollToElement($("#l_body article#comments"),e)}function scrollToElement(e,o){const t=e.href?$(e.getAttribute("href")):$(e);$("html, body").animate({scrollTop:t.offset().top-o},500)}function showPanel(){"true"===localStorage.getItem("isLikeSite")?$("#footer-text").html("è°¢è°¢ç‚¹èµ (â—'â—¡'â—)"):$("#footer-text").html("ç‚¹èµä¸€ä¸‹ (â—•Ü«â—•)"),$("#panel").css("display","block")}checkNightMode()</script><style>@media screen and (max-width:1000px){#bottom-left-btn{display:none!important}}#bottom-left-btn{position:fixed;left:1.875rem;bottom:1.875rem;padding:.3125rem .625rem;background:#fff;border-radius:.1875rem;box-shadow:0 0 .3125rem rgba(0,0,0,.4);transition:.3s ease all;z-index:1000;align-items:flex-end;flex-direction:column;display:-moz-flex;display:flex;float:right}#bottom-left-btn>a{width:1.5em;height:1.5em;margin:.3125rem 0;transition:.2s cubic-bezier(.25,.46,.45,.94)}.custom-dark-sky,.custom-dark-sky:before{content:"";position:fixed;left:0;right:0;top:0;bottom:0;z-index:88888888}.custom-dark-sky{background:linear-gradient(#feb8b0,#fef9db)}.custom-dark-sky:before{transition:2s ease all;opacity:0;background:linear-gradient(#4c3f6d,#6c62bb,#93b1ed)}.dark-mode .custom-dark-sky:before{opacity:1}.custom-dark-planet{z-index:99999999;position:fixed;left:-50%;top:-50%;width:200%;height:200%;-webkit-animation:planet-move 2s cubic-bezier(.7,0,0,1);animation:planet-move 2s cubic-bezier(.7,0,0,1);transform-origin:center bottom}@-webkit-keyframes planet-move{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes planet-move{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.custom-dark-planet svg{position:absolute;left:35%;top:40%;width:150px;height:150px;border-radius:50%;content:""}.xuanzhun{-webkit-animation:rotate 3s linear infinite;-moz-animation:rotate 3s linear infinite;-o-animation:rotate 3s linear infinite;animation:rotate 3s linear infinite}</style><div id="panel" style="display:none"><div class="mask" onclick="hidePanel()"></div><div class="container"><div class="wrapper"><div class="short-line"><div></div><div></div></div><div class="main"><div class="header"><div class="inner">èµ›é’±ç®±</div></div><div class="body"><div class="swiper-wrapper"><ul id="swiper" class="swiper animate"><li><ul class="qrcode"><li><h3>æ”¯ä»˜å®</h3><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/reward/AliPayQR.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/reward/AliPayQR.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="æ”¯ä»˜å®"></li><li><h3>å¾®ä¿¡</h3><img src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/reward/WeChatQR.png" class="lazyload placeholder" data-srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/reward/WeChatQR.png" srcset="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/img-loading.gif" alt="å¾®ä¿¡"></li></ul></li></ul></div><div class="like"><p>å·²æœ‰ <span id="lc-zan">0</span> äººç‚¹èµäº†å“¦ï¼</p></div></div><div class="footer"><div onclick="handleAddZan()" id="footer-text">ç‚¹èµä¸€ä¸‹ (â—•Ü«â—•)</div></div></div><div class="long-line"><div></div><div></div></div></div></div></div><style>#panel{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1000}#panel .mask{background-color:hsla(0,0%,100%,.6)}#panel .container,#panel .mask{position:absolute;top:0;left:0;width:100vw;height:100vh}#panel .container{pointer-events:none;-webkit-perspective:600px;perspective:600px;-webkit-transform:translateY(-100%);transform:translateY(-100%);will-change:transform;-webkit-animation:dropDown .9s ease-out 0s 1 normal forwards running;animation:dropDown .9s ease-out 0s 1 normal forwards running}#panel .wrapper{width:100vw;height:100vh;will-change:transform;-webkit-animation:dropWave 3s ease-out 0s 1 normal forwards running;animation:dropWave 3s ease-out 0s 1 normal forwards running}@keyframes dropDown{0%{transform:translateY(-100vh)}15%{transform:translateY(0)}30%{transform:translateY(-3vh)}45%{transform:translateY(0)}60%{transform:translateY(-1.5vh)}75%{transform:translateY(0)}90%{transform:translateY(-.75vh)}100%{transform:translateY(0)}}@keyframes dropWave{0%{transform:rotateY(45deg)}15%{transform:rotateY(-5deg)}30%{transform:rotateY(5deg)}45%{transform:rotateY(-2.5deg)}60%{transform:rotateY(2.5deg)}75%{transform:rotateY(-1.25deg)}90%{transform:rotateY(1.25deg)}100%{transform:rotateY(0)}}#panel .long-line,#panel .short-line{position:absolute;top:0;left:50%;width:600px;height:calc(50% - 180px);-webkit-transform:translateX(-50%);transform:translateX(-50%)}#panel .short-line div:first-child{left:55px}#panel .short-line div:nth-child(2){right:55px}#panel .short-line div{bottom:0}#panel .long-line div,#panel .short-line div{position:absolute;width:2px;height:150%;background-color:#5d3523}#panel .main{pointer-events:all;position:absolute;top:50%;left:50%;width:600px;text-align:center;border-radius:12px;-webkit-box-shadow:rgba(0,0,0,.2) 0 0 20px;box-shadow:0 0 20px rgba(0,0,0,.2);-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#panel .main .header{width:100%;height:50px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:12px 12px 0 0;border-bottom:1px solid #5d3523;background-color:#fbf4f1}#panel .main .header .inner{margin:0 auto;width:85%;font-size:20px;line-height:50px;color:#5d3523;letter-spacing:1px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}#panel .main .body{position:relative;width:100%;height:260px;background-color:#fff}#panel .main .body .swiper-wrapper{width:600px;overflow:hidden}#panel .main .body .swiper-wrapper .animate{-webkit-transition:-webkit-transform .4s ease-in-out;transition:-webkit-transform .4s ease-in-out;transition:transform .4s ease-in-out;transition:transform .4s ease-in-out,-webkit-transform .4s ease-in-out}#panel .main .body .swiper-wrapper .swiper{display:-webkit-box;display:-ms-flexbox;display:flex;width:2400px}#panel .main .body .swiper-wrapper ul{list-style:none}#panel .main .body .swiper-wrapper .swiper li{width:600px}.qrcode{display:-webkit-box;display:-ms-flexbox;display:flex;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px}.qrcode h3{margin-bottom:10px;font-size:18px;font-weight:400;line-height:2}.qrcode img{width:150px;height:150px;border-radius:3px}#panel .main .body .like{position:absolute;left:0;bottom:0;width:100%;height:60px;line-height:60px;font-size:18px}#panel .main .body .like span{color:#b854d4}#panel .main .footer{position:relative;width:100%;height:50px;border-radius:0 0 12px 12px;border-top:1px solid #5d3523;background-color:#fbf4f1}#panel .main .footer div:hover:before{-webkit-transform:translateX(0);transform:translateX(0)}#panel .main .footer div,#panel .main .footer div:hover{-webkit-box-shadow:#d68fe9 0 0 10px;box-shadow:0 0 10px #d68fe9}#panel .main .footer div{cursor:url(https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/site-img/ayuda.cur),pointer;position:absolute;bottom:0;left:50%;width:200px;height:50px;font-size:16px;color:#f5f5f5;line-height:48px;letter-spacing:2px;overflow:hidden;border-style:none;border-radius:30px;background-color:#d68fe9;-webkit-transform:translate(-50%,50%);transform:translate(-50%,50%);-webkit-transition:all .5s cubic-bezier(.86,-.02,.08,1.02) 0s;transition:all .5s cubic-bezier(.86,-.02,.08,1.02) 0s}#panel .main .footer div:before{z-index:-1;background-color:#b854d4;-webkit-transform:translateX(-100%);transform:translateX(-100%);-webkit-transition:all .5s cubic-bezier(.86,-.02,.08,1.02) 0s;transition:all .5s cubic-bezier(.86,-.02,.08,1.02) 0s}#panel .main .footer div:after,#panel .main .footer div:before{content:"";display:block;position:absolute;top:0;left:0;width:100%;height:100%;border-radius:30px}#panel .main .footer div:after{content:attr(data-title);color:#fff;letter-spacing:1px}#panel .long-line,#panel .short-line{position:absolute;top:0;left:50%;width:600px;height:calc(50% - 180px);-webkit-transform:translateX(-50%);transform:translateX(-50%)}#panel .long-line div:first-child{left:25px}#panel .long-line div:nth-child(2){right:25px}#panel .long-line div{bottom:-25px}#panel .long-line div,#panel .short-line div{position:absolute;width:2px;height:150%;background-color:#5d3523}#panel .long-line div:after{content:"";display:block;position:absolute;left:-4px;bottom:-4px;width:10px;height:10px;background-color:#5d3523;border-radius:50%}#panel .long-line div:after{content:"";display:block;position:absolute;left:-4px;bottom:-4px;width:10px;height:10px;background-color:#5d3523;border-radius:50%}</style><script>const LCZan = {
        app_id: 'edgFHBe0UwpVmpd6rVLdhUAW-MdYXbMMI',
        app_key: '3ynk7pEYdOXye74nQUn7DBY3',
        custom_api_server: '',
        flag: 0,

        // æŸ¥è¯¢å­˜å‚¨çš„è®°å½•
        getRecord(Zan, url, title) {
            return new Promise(function (resolve, reject) {
                Zan('get', '/classes/Zan?where=' + encodeURIComponent(JSON.stringify({url})))
                    .then(resp => resp.json())
                    .then(({results, code, error}) => {
                        if (code === 401) {
                            throw error;
                        }
                        if (results && results.length > 0) {
                            var record = results[0];
                            resolve(record);
                        } else {
                            Zan('post', '/classes/Zan', {url, title: title, times: 0})
                                .then(resp => resp.json())
                                .then((record, error) => {
                                    if (error) {
                                        throw error;
                                    }
                                    resolve(record);
                                }).catch(error => {
                                console.error('Failed to create', error);
                                reject(error);
                            });
                        }
                    }).catch((error) => {
                    console.error('LeanCloud Counter Error:', error);
                    reject(error);
                });
            })
        },

        // å‘èµ·è‡ªå¢è¯·æ±‚
        increment(Zan, incrArr) {
            return new Promise(function (resolve, reject) {
                Zan('post', '/batch', {
                    "requests": incrArr
                }).then((res) => {
                    res = res.json();
                    if (res.error) {
                        throw res.error;
                    }
                    resolve(res);
                }).catch((error) => {
                    console.error('Failed to save visitor count', error);
                    reject(error);
                });
            });
        },

        // æ„å»ºè‡ªå¢è¯·æ±‚ä½“
        buildIncrement(objectId) {
            return {
                "method": "PUT",
                "path": `/1.1/classes/Zan/${objectId}`,
                "body": {
                    "times": {
                        '__op': 'Increment',
                        'amount': 1
                    }
                }
            }
        },

        addZan(Zan) {
            var enableIncr = window.location.hostname !== 'localhost';
            enableIncr = true;
            var getterArr = [];
            var incrArr = [];
            // è¯·æ±‚å¢åŠ ç‚¹èµæ•°é‡
            var zanCtn = document.querySelector('#lc-zan');
            if (zanCtn || enableIncr) {
                var zanGetter = this.getRecord(Zan, window.location.hostname + '/#lc-zan', 'Zan').then((record) => {
                    $("#lc-zan").html(record.times);
                    if (this.flag === 1) {
                        incrArr.push(this.buildIncrement(record.objectId))
                        $("#lc-zan").html(record.times + 1);
                        $("#footer-text").html("è°¢è°¢ç‚¹èµ (â—'â—¡'â—)")
                        localStorage.setItem("isLikeSite", "true");
                    }
                });
                getterArr.push(zanGetter);
            }

            // å¦‚æœå¯åŠ¨è®¡æ•°è‡ªå¢ï¼Œæ‰¹é‡å‘èµ·è‡ªå¢è¯·æ±‚
            if (enableIncr) {
                Promise.all(getterArr).then(() => {
                    incrArr.length > 0 && this.increment(Zan, incrArr);
                })
            }
        },

        fetchData(api_server) {
            var Zan = (method, url, data) => {
                return fetch(`${api_server}/1.1${url}`, {
                    method,
                    headers: {
                        'X-LC-Id': this.app_id,
                        'X-LC-Key': this.app_key,
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
            };
            this.addZan(Zan);
        },

        refreshZan() {
            var api_server = this.app_id.slice(-9) !== '-MdYXbMMI' ? this.custom_api_server : `https://${this.app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;
            if (api_server) {
                this.fetchData(api_server);
            } else {
                fetch('https://app-router.leancloud.cn/2/route?appId=' + this.app_id)
                    .then(resp => resp.json())
                    .then(({api_server}) => {
                        this.fetchData('https://' + api_server);
                    });
            }
        }

    };

    LCZan.refreshZan();

    function handleAddZan() {
        LCZan.flag = 1
        if (localStorage.getItem("isLikeSite") !== "true") {
            LCZan.refreshZan();
        }
    }

    // å…³é—­é¢æ¿
    function hidePanel() {
        $("#panel").css("display", "none");
    }</script><a id="s-top" class="fas fa-arrow-up fa-fw" href="javascript:void(0)"></a></div></div><div><script>function loadScript(e,t){var n=document.getElementsByTagName("head")[0]||document.documentElement,o=document.createElement("script");o.setAttribute("type","text/javascript"),t&&(o.onload=t),o.setAttribute("src",e),n.appendChild(o)}window.volantis={},window.volantis.loadcss=document.getElementById("loadcss");var loadCSS=function(e,t,n,o){var i,r,d=window.document,a=d.createElement("link");r=t||(i=(d.body||d.getElementsByTagName("head")[0]).childNodes)[i.length-1];var s=d.styleSheets;if(o)for(var l in o)o.hasOwnProperty(l)&&a.setAttribute(l,o[l]);a.rel="stylesheet",a.href=e,a.media="only x",function e(t){if(d.body)return t();setTimeout(function(){e(t)})}(function(){r.parentNode.insertBefore(a,t?r:r.nextSibling)});var c=function(e){for(var t=a.href,n=s.length;n--;)if(s[n].href===t)return e();setTimeout(function(){c(e)})};function u(){a.addEventListener&&a.removeEventListener("load",u),a.media=n||"all"}return a.addEventListener&&a.addEventListener("load",u),(a.onloadcssdefined=c)(u),a}</script><script>loadCSS("https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14/css/all.min.css",window.volantis.loadcss),loadCSS("https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css",window.volantis.loadcss),loadCSS("https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css",window.volantis.loadcss)</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.5/dist/jquery.min.js"></script><script>function pjax_fancybox(){$(".md .gallery").find("img").each(function(){var a=document.createElement("a");$(a).attr("class","fancybox"),$(a).attr("pjax-fancybox",""),$(a).attr("href",$(this).attr("src")),$(this).attr("data-original")&&$(a).attr("href",$(this).attr("data-original")),$(a).attr("data-fancybox","images");var t="";$(this).attr("alt")&&($(a).attr("data-caption",$(this).attr("alt")),t=$(this).attr("alt"));var n=document.createElement("div");$(n).addClass("fancybox"),$(this).wrap(n);n=document.createElement("span");$(n).addClass("image-caption"),$(n).text(t),$(this).after(n),$(this).wrap(a)}),$(".md .gallery").find("img").fancybox({selector:'[data-fancybox="images"]',hash:!1,loop:!1,closeClick:!0,helpers:{overlay:{closeClick:!0}},buttons:["zoom","close"]})}function SCload_fancybox(){0!=$(".md .gallery").find("img").length&&(loadCSS("https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css",document.getElementById("loadcss")),setTimeout(function(){loadScript("https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js",pjax_fancybox)},1))}$(function(){SCload_fancybox()})</script><script src="https://cdn.jsdelivr.net/npm/jquery-backstretch@2.1.18/jquery.backstretch.min.js"></script><script type="text/javascript">var imgs=["https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/wallpaper/wallpaper4.jpg"];function shuffle(t){for(var a=t.length;a--;){var r=Math.floor(Math.random()*a),e=t[r];t[r]=t[a],t[a]=e}}function Pjax_backstretch(){$.backstretch(imgs,{duration:"10000",fade:"1500"})}loadScript("https://cdn.jsdelivr.net/npm/jquery-backstretch@2.1.18/jquery.backstretch.min.js",Pjax_backstretch)</script><div id="rightmenu-wrapper"><ul class="list-v rightmenu" id="rightmenu-content"><li class="option"><a class="vlts-menu opt fix-cursor-default" id="menu-copy-text" onclick='document.execCommand("copy")'><i class="fa fa-copy fa-fw"></i>å¤åˆ¶æ–‡æœ¬</a><hr id="hr-text"><a class="vlts-menu opt fix-cursor-default" id="menu-copy-href"><i class="fa fa-link fa-fw"></i>å¤åˆ¶é“¾æ¥</a> <a class="vlts-menu opt fix-cursor-default" id="menu-open-href"><i class="fa fa-external-link-square-alt fa-fw"></i>åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€</a><hr id="hr-href"><a class="vlts-menu opt fix-cursor-default" id="menu-copy-src"><i class="fa fa-image fa-fw"></i>å¤åˆ¶å›¾ç‰‡åœ°å€</a><hr id="hr-src"></li><li class="navigation"><a class="nav icon-only fix-cursor-default" onclick="history.back()"><i class="fa fa-arrow-left fa-fw"></i></a> <a class="nav icon-only fix-cursor-default" onclick="history.forward()"><i class="fa fa-arrow-right fa-fw"></i></a> <a class="nav icon-only fix-cursor-default" onclick="window.location.reload()"><i class="fa fa-redo fa-fw"></i></a> <a class="nav icon-only fix-cursor-default" href="/"><i class="fa fa-home fa-fw"></i></a></li><hr><li><a class="vlts-menu fix-cursor-default" href="/comments/" id="comments"><i class="fas fa-comments fa-fw"></i> ç•™è¨€</a></li><li><a class="vlts-menu fix-cursor-default" href="/photos/" id="photos"><i class="fas fa-camera-retro fa-fw"></i> ç›¸å†Œ</a></li><li><a class="vlts-menu fix-cursor-default" href="/links/" id="links"><i class="fas fa-users fa-fw"></i> å°ä¼™ä¼´ä»¬</a></li><hr><li><a class="vlts-menu fix-cursor-default" href="https://box.hasaik.com" id="https:boxhasaikcom" rel="external nofollow noopener noreferrer" target="_blank"><i class="fas fa-cog fa-fw"></i> å®ç”¨å·¥å…·</a></li><li><a class="vlts-menu fix-cursor-default" href="/catchTheCat/" id="catchTheCat"><i class="fas fa-cat fa-fw"></i> å›´ä½å°çŒ«</a></li><hr><li class="music name"><p class="nav music-title fix-cursor-default"></p></li><li class="music ctrl"><a class="nav icon-only backward fix-cursor-default" onclick="aplayerBackward()"><i class="fa fa-step-backward fa-fw"></i></a> <a class="nav icon-only toggle fix-cursor-default" onclick="aplayerToggle()"><i class="fa fa-play fa-fw"></i></a> <a class="nav icon-only forward fix-cursor-default" onclick="aplayerForward()"><i class="fa fa-step-forward fa-fw"></i></a></li><li class="music volume"><a class="nav volume"><div class="aplayer-volume-bar-wrap"><div class="aplayer-volume-bar fix-cursor-pointer"><div class="aplayer-volume"></div><i class="left fa fa-volume-off fa-fw"></i> <i class="right fa fa-volume-up fa-fw"></i></div></div></a></li></ul></div><script>function popMenu(t){var e=document.getElementById("rightmenu-wrapper"),n=document.getElementById("rightmenu-content"),l=document.documentElement.clientWidth||document.body.clientWidth,o=document.documentElement.clientHeight||document.body.clientHeight;e.style.left=t.clientX+"px",e.style.top=t.clientY+"px",e.style.display="block",2*t.clientX>l?n.classList.add("left"):n.classList.remove("left"),2*t.clientY>o?n.classList.add("top"):n.classList.remove("top");let c=document.getElementById("hr-text"),d=document.getElementById("hr-src"),y=document.getElementById("hr-href"),s=document.getElementById("menu-copy-src");null!=s&&(t.target.currentSrc?(s.style.display="block",s.addEventListener("click",function(e){copyString(t.target.currentSrc)},{once:!0}),d.style.display="block"):(s.style.display="none",d.style.display="none"));let r="";if(t.path)for(i=0;i<t.path.length;i++)null!=t.path[i].href&&0<t.path[i].href.length&&(r=t.path[i].href);let u=document.getElementById("menu-copy-text");u.style.display="none",c.style.display="none",0==r.length&&window.getSelection().toString()&&(u.style.display="block",c.style.display="block");let m=document.getElementById("menu-open-href");null!=m&&(0<r.length?(m.style.display="block",m.addEventListener("click",function(e){window.open(r)},{once:!0}),y.style.display="block"):(m.style.display="none",y.style.display="none"));let p=document.getElementById("menu-copy-href");return null!=p&&(0<r.length?(p.style.display="block",p.addEventListener("click",function(e){copyString(r)},{once:!0})):p.style.display="none"),!1}function hideMenu(){document.getElementById("rightmenu-wrapper").style.display="none"}function copyString(e){const t=document.createElement("input");t.setAttribute("readonly","readonly"),document.body.appendChild(t),t.setAttribute("value",e),t.select(),document.execCommand("copy"),document.body.removeChild(t)}window.document.oncontextmenu=function(e){return!!e.ctrlKey||(!!/Android|webOS|BlackBerry/i.test(navigator.userAgent)||popMenu(e))},document.addEventListener("click",function(e){document.getElementById("rightmenu-wrapper").style.display="none"}),document.execCommand("click")</script><script>function loadIssuesJS(){0!=$(".md").find(".issues-api").length&&setTimeout(function(){loadScript("/js/issues.js")},1)}$(function(){loadIssuesJS()})</script><script defer src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.1.0/dist/lazyload.min.js"></script><script>window.lazyLoadOptions={elements_selector:".lazyload",threshold:0},window.addEventListener("LazyLoad::Initialized",function(n){window.lazyLoadInstance=n.detail.instance},!1),document.addEventListener("DOMContentLoaded",function(){lazyLoadInstance.update()}),document.addEventListener("pjax:complete",function(){lazyLoadInstance.update()})</script><script>window.FPConfig={delay:0,ignoreKeywords:[],maxRPS:5,hoverDelay:25}</script><script defer src="https://cdn.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script><script>var clipboard=new ClipboardJS(".btn-copy",{target:function(e){return e.nextElementSibling}});function wait(e,i){window.setTimeout(e,i)}function pjax_initCopyCode(){var e;$(".highlight .code pre").length+$(".article pre code").length!=0&&(e="",e+='<button class="btn-copy" data-clipboard-snippet="">',e+='<i class="fas fa-copy"></i><span>COPY</span>',e+="</button>",$(".highlight .code pre").before(e),$(".article pre code").before(e),clipboard.off("success").on("success",function(e){let i=$(e.trigger);i.addClass("copied");let a=$(i.find("i"));a.removeClass("fa-copy"),a.addClass("fa-check-circle");let n=$(i.find("span"));n[0].innerText="COPIED",wait(function(){a.removeClass("fa-check-circle"),a.addClass("fa-copy"),n[0].innerText="COPY"},2e3)}),clipboard.off("error").on("error",function(e){e.clearSelection();let i=$(e.trigger);i.addClass("copy-failed");let a=$(i.find("i"));a.removeClass("fa-copy"),a.addClass("fa-times-circle");let n=$(i.find("span"));n[0].innerText="COPY FAILED",wait(function(){a.removeClass("fa-times-circle"),a.addClass("fa-copy"),n[0].innerText="COPY"},2e3)}))}$(function(){pjax_initCopyCode()})</script><script>let APlayerController=new Object;APlayerController.id="134573504",APlayerController.volume="0.7",loadCSS("https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css",window.volantis.loadcss),loadScript("https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.js"),window.volantis.LoadMetingJS=0;var checkAPlayer=setInterval(function(){window.APlayer&&(clearInterval(checkAPlayer),window.volantis.LoadMetingJS||window.MetingJSElement||(window.LoadMetingJS=1,loadScript("https://cdn.jsdelivr.net/npm/meting@2.0/dist/Meting.min.js")))},2500);loadScript("/js/aplayer.js")</script><script src="https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogJs/Valine.min.js"></script><script>var GUEST_INFO=["nick","mail","link"],meta="nick,mail,link".split(",").filter(function(e){return-1<GUEST_INFO.indexOf(e)}),REQUIRED_FIELDS=["nick","mail","link"],requiredFields="nick,mail".split(",").filter(function(e){return-1<REQUIRED_FIELDS.indexOf(e)}),tagMeta="åšä¸»,å°ä¼™ä¼´,è®¿å®¢".split(","),friends="d32d39c8e126512382ee4b831a8f8002,d06adebbcbaa24413cc1b53dc8576ed0,ab2579686cf0e99e1ba40a932e0400f5,e846889207767f93e049a14a29a12d55,3f96b7b64421af2309f48ce09f483e00,36937ffd56ac7ac077c3e2dceae74dc5,00fdb1c48ae14c86afce12a8f9fc3d77,fde3448b9705037f2021664c8b8e6cb1,dd04aab66ee54f77e80e8a7781a3e8e2,35d7010131d4f17efe9842174c3c1c2c,ee307e1162191d9120f967483af6d490,15f39db75e8624d52353ae6943eb66ca,187c2861161c500c97a69290c89b5526,876272e6ce1dd1059dabdc871f59d251,9be62391e297826516364374435f758c,e086f9ab51f37cb606fc6378c36cd9aa,e8b473e9af0f2718265c88b809a0a7b2,3ce1e6c77b4910f1871106cb30dc62b0,28b57baa4e8f13fe4292ccb2de267e30,3c915d7f53fe9ae72235eb188968ad86,3e440f8724c5acd24d0a4fab6eb6a6d1,c531da832f0416df03fc57754b39fefd,adb7d1cd192658a55c0ad22a3309cecf,8f9395b39f5a1e06301e25337c5b81c0,fc2c9b067f65c9e2d7057ba797f7cfca,0ba7b878d4a392fb04f8f4090fcc2248,9f38a40d977e6e8a6a555fef3849f23a,95dbe659464f10506676f48b11962ef7".split(","),master="6a565e6c47127afdd40d5d46089db2c5".split(","),metaPlaceholder={nick:"æ˜µç§°/QQå·(å¿…å¡«)",mail:"é‚®ç®±ï¼ˆå¿…å¡«ï¼Œå®Œå…¨ä¿å¯†ï¼‰",link:"ç½‘å€(https://)"};function emoji(e,a,i){return e+"/"+e+"-"+a+"."+i}for(var emojiMaps={},i=1;i<=2;i++)emojiMaps["fun-"+i]=emoji("fun",i,"gif");for(i=1;i<=54;i++)emojiMaps["tieba-"+i]=emoji("tieba",i,"png");for(i=1;i<=101;i++)emojiMaps["qq-"+i]=emoji("qq",i,"gif");for(i=1;i<=116;i++)emojiMaps["aru-"+i]=emoji("aru",i,"gif");for(i=1;i<=125;i++)emojiMaps["twemoji-"+i]=emoji("twemoji",i,"png");for(i=1;i<=4;i++)emojiMaps["weibo-"+i]=emoji("weibo",i,"png");function pjax_valine(){if(document.querySelectorAll("#valine_container")[0]){var a=pdata.commentPlaceholder||"ç²˜è´´å›¾ç‰‡åˆ°æ­¤å¤„å¯ä»¥è‡ªåŠ¨ä¸Šä¼ ï¼Œå¡«å†™é‚®ç®±å¯ä»¥æ”¶åˆ°é‚®ä»¶å›å¤å“¦(â—&#39;â—¡&#39;â—)";let e=pdata.commentPath;0==e.length&&(e=decodeURI(window.location.pathname)),(new Valine).init({el:"#valine_container",meta:meta,placeholder:a,path:e,appId:"gYcUzERw1BSKyARbzWH2OQzu-gzGzoHsz",appKey:"7xvFncnnyG2QI60iDY3E4PuO",pageSize:"10",avatar:"monsterid",lang:"zh-cn",visitor:"true",highlight:"true",mathJax:"false",enableQQ:"true",recordIP:"false",requiredFields:requiredFields,emojiCDN:"https://cdn.jsdelivr.net/gh/XuxuGood/cdn@master/blogImages/emoji/valine/",emojiMaps:emojiMaps,tagMeta:tagMeta,master:master,friends:friends,metaPlaceholder:metaPlaceholder})}}$(function(){pjax_valine()})</script><script defer src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js" data-pjax></script><script src="/js/app.js"></script><script>const SearchServiceimagePath="https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@master/img/",ROOT="/".endsWith("/")?"/":"//";function listenSearch(){customSearch=new HexoSearch({imagePath:SearchServiceimagePath})}function setSearchService(){listenSearch()}$(".input.u-search-input").one("focus",function(){loadScript("/js/search/hexo.js",setSearchService)})</script><script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script><script type="text/javascript">$(function(){Waves.attach(".flat-btn",["waves-button"]),Waves.attach(".float-btn",["waves-button","waves-float"]),Waves.attach(".float-btn-light",["waves-button","waves-float","waves-light"]),Waves.attach(".flat-box",["waves-block"]),Waves.attach(".float-box",["waves-block","waves-float"]),Waves.attach(".waves-image"),Waves.init()})</script><script src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@2/js/comment_typing.js"></script><script>const rootElement = document.documentElement;
const darkModeStorageKey = "user-color-scheme";
const rootElementDarkModeAttributeName = "data-user-color-scheme";

const setLS = (k, v) => {
  try {
    localStorage.setItem(k, v);
  } catch (e) {
    console.log(e.message);
  }
};

const removeLS = (k) => {
  try {
    localStorage.removeItem(k);
  } catch (e) {
    console.log(e.message);
  }
};

const getLS = (k) => {
  try {
    return localStorage.getItem(k);
  } catch (e) {
    console.log(e.message);
    return null;
  }
};

const getModeFromCSSMediaQuery = () => {
  return window.matchMedia("(prefers-color-scheme: dark)").matches
    ? "dark"
    : "light";
};

const resetRootDarkModeAttributeAndLS = () => {
  rootElement.removeAttribute(rootElementDarkModeAttributeName);
  removeLS(darkModeStorageKey);
};

const validColorModeKeys = {
  dark: true,
  light: true,
};

const applyCustomDarkModeSettings = (mode) => {
  const currentSetting = mode || getLS(darkModeStorageKey);

  if (currentSetting === getModeFromCSSMediaQuery()) {
    resetRootDarkModeAttributeAndLS();
  } else if (validColorModeKeys[currentSetting]) {
    rootElement.setAttribute(rootElementDarkModeAttributeName, currentSetting);
  } else {
    resetRootDarkModeAttributeAndLS();
  }
};

const invertDarkModeObj = {
  dark: "light",
  light: "dark",
};

/**
 * get target mode
 */
const toggleCustomDarkMode = () => {
  let currentSetting = getLS(darkModeStorageKey);

  if (validColorModeKeys[currentSetting]) {
    currentSetting = invertDarkModeObj[currentSetting];
  } else if (currentSetting === null) {
    currentSetting = invertDarkModeObj[getModeFromCSSMediaQuery()];
  } else {
    return;
  }
  setLS(darkModeStorageKey, currentSetting);
  return currentSetting;
};

/**
 * bind click event for toggle button
 */
function bindToggleButton() {
	// var btn=$("#wrapper .toggle-mode-btn");
    var btn=$(".toggle-mode-btn");
    btn.unbind('click').on('click',(e) => {
      const mode = toggleCustomDarkMode();
      applyCustomDarkModeSettings(mode);
    });
}
applyCustomDarkModeSettings();
document.addEventListener("DOMContentLoaded", bindToggleButton);
document.addEventListener("pjax:success", bindToggleButton);</script><script>function listennSidebarTOC() {
  const navItems = document.querySelectorAll(".toc li");
  if (!navItems.length) return;
  const sections = [...navItems].map((element) => {
    const link = element.querySelector(".toc-link");
    const target = document.getElementById(
      decodeURI(link.getAttribute("href")).replace("#", "")
    );
    link.addEventListener("click", (event) => {
      event.preventDefault();
      window.scrollTo({
		top: target.offsetTop + 100,
		
		behavior: "smooth"
		
	  });
    });
    return target;
  });

  function activateNavByIndex(target) {
    if (target.classList.contains("active-current")) return;

    document.querySelectorAll(".toc .active").forEach((element) => {
      element.classList.remove("active", "active-current");
    });
    target.classList.add("active", "active-current");
    let parent = target.parentNode;
    while (!parent.matches(".toc")) {
      if (parent.matches("li")) parent.classList.add("active");
      parent = parent.parentNode;
    }
  }

  function findIndex(entries) {
    let index = 0;
    let entry = entries[index];
    if (entry.boundingClientRect.top > 0) {
      index = sections.indexOf(entry.target);
      return index === 0 ? 0 : index - 1;
    }
    for (; index < entries.length; index++) {
      if (entries[index].boundingClientRect.top <= 0) {
        entry = entries[index];
      } else {
        return sections.indexOf(entry.target);
      }
    }
    return sections.indexOf(entry.target);
  }

  function createIntersectionObserver(marginTop) {
    marginTop = Math.floor(marginTop + 10000);
    let intersectionObserver = new IntersectionObserver(
      (entries, observe) => {
        let scrollHeight = document.documentElement.scrollHeight + 100;
        if (scrollHeight > marginTop) {
          observe.disconnect();
          createIntersectionObserver(scrollHeight);
          return;
        }
        let index = findIndex(entries);
        activateNavByIndex(navItems[index]);
      },
      {
        rootMargin: marginTop + "px 0px -100% 0px",
        threshold: 0,
      }
    );
    sections.forEach((element) => {
      element && intersectionObserver.observe(element);
    });
  }
  createIntersectionObserver(document.documentElement.scrollHeight);
}

document.addEventListener("DOMContentLoaded", listennSidebarTOC);
document.addEventListener("pjax:success", listennSidebarTOC);</script><!-- more --><script src="/js/crash_cheat.js"></script><script src="/js/message.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><div class="pjax-animate"><script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script><div id="loading-bar-wrapper"><script>NProgress.configure({parent:"#loading-bar-wrapper",trickleSpeed:100})</script></div><script>window.ShowLoading=function(){NProgress.start()},window.HideLoading=function(){NProgress.done()}</script></div><script>var pjax;
    document.addEventListener('DOMContentLoaded', function () {
        pjax = new Pjax({
            elements: 'a[href]:not([href^="#"]):not([href="javascript:void(0)"]):not([pjax-fancybox])',
            selectors: [
                "title",
                "#l_cover",
                "#pjax-container",
                "#pjax-header-nav-list"
            ],
            cacheBust: false,   // url åœ°å€è¿½åŠ æ—¶é—´æˆ³ï¼Œç”¨ä»¥é¿å…æµè§ˆå™¨ç¼“å­˜
            timeout: 5000
        });
    });

    document.addEventListener('pjax:send', function (e) {
        //window.stop(); // ç›¸å½“äºç‚¹å‡»äº†æµè§ˆå™¨çš„åœæ­¢æŒ‰é’®

        try {
            var currentUrl = window.location.pathname;
            var targetUrl = e.triggerElement.href;
            var banUrl = [""];
            if (banUrl[0] != "") {
                banUrl.forEach(item => {
                    if (currentUrl.indexOf(item) != -1 || targetUrl.indexOf(item) != -1) {
                        window.location.href = targetUrl;
                    }
                });
            }
        } catch (error) {
        }

        window.subData = null; // ç§»é™¤æ ‡é¢˜ï¼ˆç”¨äºä¸€äºŒçº§å¯¼èˆªæ åˆ‡æ¢å¤„ï¼‰
        if (typeof $.fancybox != "undefined") {
            $.fancybox.close();    // å…³é—­å¼¹çª—
        }
        volantis.$switcher.removeClass('active'); // å…³é—­ç§»åŠ¨ç«¯æ¿€æ´»çš„æœç´¢æ¡†
        volantis.$header.removeClass('z_search-open'); // å…³é—­ç§»åŠ¨ç«¯æ¿€æ´»çš„æœç´¢æ¡†
        volantis.$wrapper.removeClass('sub'); // è·³è½¬é¡µé¢æ—¶å…³é—­äºŒçº§å¯¼èˆª

        // è§£ç»‘äº‹ä»¶ é¿å…é‡å¤ç›‘å¬
        volantis.$topBtn.unbind('click');
        $('.menu a').unbind('click');
        $(window).unbind('resize');
        $(window).unbind('scroll');
        $(document).unbind('scroll');
        $(document).unbind('click');
        $('body').unbind('click');
        
        window.ShowLoading();
        
    });

    document.addEventListener('pjax:complete', function () {
        // å…³äºç™¾åº¦ç»Ÿè®¡å¯¹ SPA é¡µé¢çš„å¤„ç†ï¼š
        // æ–¹æ¡ˆä¸€ï¼šç™¾åº¦ç»Ÿè®¡>ç®¡ç†>å•é¡µåº”ç”¨è®¾ç½®ä¸­ï¼Œæ‰“å¼€å¼€å¯æŒ‰é’®å³å¯å¯¹SPAè¿›è¡Œç»Ÿè®¡ã€‚ https://tongji.baidu.com/web/help/article?id=324
        // æ–¹æ¡ˆäºŒï¼šå–æ¶ˆæ³¨é‡Šä¸‹åˆ—ä»£ç ã€‚ https://tongji.baidu.com/web/help/article?id=235
        

        // å…³äºè°·æ­Œç»Ÿè®¡å¯¹ SPA é¡µé¢çš„å¤„ç†ï¼š
        // å½“åº”ç”¨ä»¥åŠ¨æ€æ–¹å¼åŠ è½½å†…å®¹å¹¶æ›´æ–°åœ°å€æ ä¸­çš„ç½‘å€æ—¶ï¼Œä¹Ÿåº”è¯¥æ›´æ–°é€šè¿‡ gtag.js å­˜å‚¨çš„ç½‘é¡µç½‘å€ã€‚
        // https://developers.google.cn/analytics/devguides/collection/gtagjs/single-page-applications?hl=zh-cn
        

        $('.nav-main').find('.list-v').not('.menu-phone').removeAttr("style", ""); // ç§»é™¤å°å°¾å·´çš„ç§»é™¤
        $('.menu-phone.list-v').removeAttr("style", ""); // ç§»é™¤å°å°¾å·´çš„ç§»é™¤
        $('script[data-pjax], .pjax-reload script').each(function () {
            $(this).parent().append($(this).remove());
        });

        try {
            if (typeof $.fancybox == "undefined") {
                SCload_fancybox();
            } else {
                pjax_fancybox();
            }
            
            Pjax_backstretch()
            
            
            
            
            if (typeof IssuesAPI == "undefined") {
                loadIssuesJS();
            }
            
            
            pjax_initCopyCode();
            
            
            pjax_valine();
            
            
            
            
            
        } catch (e) {
            console.log(e);
        }
        
        window.HideLoading();
        
    });

    document.addEventListener('pjax:error', function (e) {
        
        window.HideLoading();
        
        window.location.href = e.triggerElement.href;
    });</script></div></body></html>